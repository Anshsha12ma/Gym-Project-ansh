try { var ezVideoPlayer;(()=>{"use strict";var e={d:(t,i)=>{for(var o in i)e.o(i,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:i[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function i(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)}function o(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/BlackBerry/i)||i()||navigator.userAgent.match(/Opera Mini/i)||navigator.userAgent.match(/IEMobile/i)}function n(){return i()||/apple/i.test(navigator.vendor)}function a(){let e=new RegExp("(googlebot/|bot|Googlebot-Mobile|Googlebot-Image|Google favicon|Mediapartners-Google|bingbot|slurp|java|wget|curl|Commons-HttpClient|Python-urllib|libwww|httpunit|nutch|phpcrawl|msnbot|jyxobot|FAST-WebCrawler|FAST Enterprise Crawler|biglotron|teoma|convera|seekbot|gigablast|exabot|ngbot|ia_archiver|GingerCrawler|webmon |httrack|webcrawler|grub.org|UsineNouvelleCrawler|antibot|netresearchserver|speedy|fluffy|bibnum.bnf|findlink|msrbot|panscient|yacybot|AISearchBot|IOI|ips-agent|tagoobot|MJ12bot|dotbot|woriobot|yanga|buzzbot|mlbot|yandexbot|purebot|Linguee Bot|Voyager|CyberPatrol|voilabot|baiduspider|citeseerxbot|spbot|twengabot|postrank|turnitinbot|scribdbot|page2rss|sitebot|linkdex|Adidxbot|blekkobot|ezooms|dotbot|Mail.RU_Bot|discobot|heritrix|findthatfile|europarchive.org|NerdByNature.Bot|sistrix crawler|ahrefsbot|Aboundex|domaincrawler|wbsearchbot|summify|ccbot|edisterbot|seznambot|ec2linkfinder|gslfbot|aihitbot|intelium_bot|facebookexternalhit|yeti|RetrevoPageAnalyzer|lb-spider|sogou|lssbot|careerbot|wotbox|wocbot|ichiro|DuckDuckBot|lssrocketcrawler|drupact|webcompanycrawler|acoonbot|openindexspider|gnam gnam spider|web-archive-net.com.bot|backlinkcrawler|coccoc|integromedb|content crawler spider|toplistbot|seokicks-robot|it2media-domain-crawler|ip-web-crawler.com|siteexplorer.info|elisabot|proximic|changedetection|blexbot|arabot|WeSEE:Search|niki-bot|CrystalSemanticsBot|rogerbot|360Spider|psbot|InterfaxScanBot|Lipperhey SEO Service|CC Metadata Scaper|g00g1e.net|GrapeshotCrawler|urlappendbot|brainobot|fr-crawler|binlar|SimpleCrawler|Livelapbot|Twitterbot|cXensebot|smtbot|bnf.fr_bot|A6-Indexer|ADmantX|Facebot|Twitterbot|OrangeBot|memorybot|AdvBot|MegaIndex|SemanticScholarBot|ltx71|nerdybot|xovibot|BUbiNG|Qwantify|archive.org_bot|Applebot|TweetmemeBot|crawler4j|findxbot|SemrushBot|yoozBot|lipperhey|y!j-asr|Domain Re-Animator Bot|AddThis)","i"),t=navigator.userAgent;return!!e.test(t)}e.r(t),e.d(t,{Init:()=>De,insertHTMLBelowFold:()=>We});const s="ezvideojs",r={BOTTOM_RIGHT:1,BOTTOM_LEFT:2,TOP_RIGHT:3,TOP_LEFT:4,BOTTOM_CENTER:5,WIDE_TOP:6};var l=new Blob([new Uint8Array([255,227,24,196,0,0,0,3,72,1,64,0,0,4,132,16,31,227,192,225,76,255,67,12,255,221,27,255,228,97,73,63,255,195,131,69,192,232,223,255,255,207,102,239,255,255,255,101,158,206,70,20,59,255,254,95,70,149,66,4,16,128,0,2,2,32,240,138,255,36,106,183,255,227,24,196,59,11,34,62,80,49,135,40,0,253,29,191,209,200,141,71,7,255,252,152,74,15,130,33,185,6,63,255,252,195,70,203,86,53,15,255,255,247,103,76,121,64,32,47,255,34,227,194,209,138,76,65,77,69,51,46,57,55,170,170,170,170,170,170,170,170,170,170,255,227,24,196,73,13,153,210,100,81,135,56,0,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170])],{type:"audio/mpeg"}),d=new Blob([new Uint8Array([0,0,0,28,102,116,121,112,105,115,111,109,0,0,2,0,105,115,111,109,105,115,111,50,109,112,52,49,0,0,0,8,102,114,101,101,0,0,2,239,109,100,97,116,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,0,0,2,194,109,111,111,118,0,0,0,108,109,118,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,232,0,0,0,47,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,1,236,116,114,97,107,0,0,0,92,116,107,104,100,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,47,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,36,101,100,116,115,0,0,0,28,101,108,115,116,0,0,0,0,0,0,0,1,0,0,0,47,0,0,0,0,0,1,0,0,0,0,1,100,109,100,105,97,0,0,0,32,109,100,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,172,68,0,0,8,0,85,196,0,0,0,0,0,45,104,100,108,114,0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0,0,0,1,15,109,105,110,102,0,0,0,16,115,109,104,100,0,0,0,0,0,0,0,0,0,0,0,36,100,105,110,102,0,0,0,28,100,114,101,102,0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1,0,0,0,211,115,116,98,108,0,0,0,103,115,116,115,100,0,0,0,0,0,0,0,1,0,0,0,87,109,112,52,97,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,16,0,0,0,0,172,68,0,0,0,0,0,51,101,115,100,115,0,0,0,0,3,128,128,128,34,0,2,0,4,128,128,128,20,64,21,0,0,0,0,1,244,0,0,1,243,249,5,128,128,128,2,18,16,6,128,128,128,1,2,0,0,0,24,115,116,116,115,0,0,0,0,0,0,0,1,0,0,0,2,0,0,4,0,0,0,0,28,115,116,115,99,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,28,115,116,115,122,0,0,0,0,0,0,0,0,0,0,0,2,0,0,1,115,0,0,1,116,0,0,0,20,115,116,99,111,0,0,0,0,0,0,0,1,0,0,0,44,0,0,0,98,117,100,116,97,0,0,0,90,109,101,116,97,0,0,0,0,0,0,0,33,104,100,108,114,0,0,0,0,0,0,0,0,109,100,105,114,97,112,112,108,0,0,0,0,0,0,0,0,0,0,0,0,45,105,108,115,116,0,0,0,37,169,116,111,111,0,0,0,29,100,97,116,97,0,0,0,1,0,0,0,0,76,97,118,102,53,54,46,52,48,46,49,48,49])],{type:"video/mp4"});function c(e){return Object.assign({muted:!1,timeout:250,inline:!1},e)}function h(e,t){var i=e.muted,o=e.timeout,n=e.inline,a=t(),s=a.element,r=a.source,l=void 0,d=void 0,c=void 0;return s.muted=i,!0===i&&s.setAttribute("muted","muted"),!0===n&&s.setAttribute("playsinline","playsinline"),s.src=r,new Promise((function(e){l=s.play(),d=setTimeout((function(){c(!1,new Error("Timeout "+o+" ms has been reached"))}),o),c=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;s.remove(),s.srcObject=null,clearTimeout(d),e({result:t,error:i})},void 0!==l?l.then((function(){return c(!0)})).catch((function(e){return c(!1,e)})):c(!0)}))}const u={audio:function(e){return h(e=c(e),(function(){return{element:document.createElement("audio"),source:URL.createObjectURL(l)}}))},video:function(e){return h(e=c(e),(function(){return{element:document.createElement("video"),source:URL.createObjectURL(d)}}))}},m=0,p=1,y=2,g=1,f=450,v=400,w=.4,P=384,b=250,I="450px",E=.7,C=400,z=400,_=["div","span","p","article","section","aside","main","ul","ol","h1","h2","h3","h4","h5","h6","table"],V=["header","footer","li","form","nav","script","code","pre","picture","figure","video"],x=["ez-CCPA"],S=["header","navbar","top-bar","site-header","main-navigation","footer","site-footer","bottom-bar","footer-nav","footer-widgets","menu","nav-menu","main-menu","dropdown-menu","side-menu"],T=["footer",".footer-nav",".footer-widgets",".site-footer",".footer"];async function A(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=document.createElement("span");function n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;!function(){if(window.EzoicMagicPlayerExclusionSelectors)for(var e=0;e<window.EzoicMagicPlayerExclusionSelectors.length;e++)try{for(var t=document.querySelectorAll(window.EzoicMagicPlayerExclusionSelectors[e]),i=0;i<t.length;i++)t[i].setAttribute("data-ezoic-video-excluded","1")}catch(n){k("magic: Invalid selector:",window.EzoicMagicPlayerExclusionSelectors[e],"; Error:",n)}try{t=document.querySelectorAll('[id^="ezoic-pub-ad-placeholder-"], .ezoic-ad.adtester-container');var o=Array.from(t).filter((e=>!e.hasAttribute("data-ezhumixplayerlocation")));for(e=0;e<o.length;e++)o[e].setAttribute("data-ezoic-video-excluded","1")}catch(n){k("magic: Invalid selector when excluding ezoic ads spans, Error:",n)}try{for(t=document.querySelectorAll("[data-ez-ph-id]"),e=0;e<t.length;e++)t[e].setAttribute("data-ezoic-video-excluded","1")}catch(n){k("magic: Invalid selector when excluding ezoic ads elements, Error:",n)}}(),function(){if(window.EzoicMagicPlayerInclusionSelectors)for(var e=0;e<window.EzoicMagicPlayerInclusionSelectors.length;e++)try{for(var t=document.querySelectorAll(window.EzoicMagicPlayerInclusionSelectors[e]),i=0;i<t.length;i++)t[i].setAttribute("data-ezoic-video-included","1")}catch(o){k("magic: Invalid selector:",window.EzoicMagicPlayerInclusionSelectors[e],"; Error:",o)}(t=document.querySelectorAll("[data-ezhumixplayerlocation]")).forEach((e=>{e.setAttribute("data-ezoic-video-included","1")}))}();var t=null,i=9999999999;let n=C;o()&&(n=z);var a=document.querySelectorAll(".ez-video-placeholder-marker, [data-ezhumixplayerlocation]"),s=e||window.EzoicPreferredLocation||1;k("magic: preferredViewports",s=function(e){if("URLSearchParams"in window){return new URLSearchParams(window.location.search).get(e)||null}return null}("ez_magic_viewports")||s);var l=window.innerHeight*s,d=Math.max(document.documentElement.scrollHeight,document.documentElement.offsetHeight,document.body.scrollHeight);l>d&&(k("magic: the document is too short for the preferred height, placing at the end of the document"),l=d-200),k("magic: preferredHeight",l,"window.innerHeight",window.innerHeight,"pageHeight",d,"preferredViewports",s);var c=l-.5*n;let h=function(){let e=document.querySelectorAll('meta[name="robots"]'),t=!1;for(let a=0;a<e.length;a++){let i=e[a].getAttribute("content");if(i&&i.includes("max-image-preview:large")){t=!0;break}}if(!t)return k("does not have large image preview setting enabled"),null;const i=[".entry-header img",".td-post-featured-image img",".article__gallery img","img.wp-post-image",".article__cover img",".gallery__image_picture img",".et_pb_title_featured_container img",".featured-image img","img.featured",".post-thumbnail img",".post-header img",".cover-image img",".hero img",".banner img",".post > img:only-child",".article > img:only-child",".main > img:only-child","header img","figure.wp-block-image img","figure.wp-block-cover img",'img[data-featured="true"]','img[rel="featured"]'],o=2*window.innerHeight;let n=[];if(i.forEach((e=>{const t=document.querySelectorAll(e);n=n.concat(Array.from(t))})),n=[...new Set(n)],0===n.length)return k("no images found in the query"),null;if(n=n.filter((e=>{const t=e.getBoundingClientRect(),i=window.pageYOffset||document.documentElement.scrollTop||0,n=t.top+i;if(n>o)return k("filtered out img: ",e,` imageTopPosition: ${n}, positionThreshold: ${o}`),!1;const a=e.naturalWidth/e.naturalHeight;return t.width>200&&t.height>180&&a>.5&&!e.classList.contains("avatar")&&!e.classList.contains("icon")&&!e.closest(".thumbnails, .sidebar, .footer")})),0===n.length)return console.log("no suitable images after filtering"),null;return n.sort(((e,t)=>{const i=e.getBoundingClientRect(),o=t.getBoundingClientRect();return i.top+i.left-(o.top+o.left)})),n[0]}();if(h){let e=h.getBoundingClientRect(),t=Math.max(c,e.bottom+window.scrollY),i=Math.round(t-c),o=Math.round(c);window._ezaq&&window.__ez&&window.__ez.bit&&__ez.bit.Add(_ezaq.page_view_id,[new __ezDotData("delta_target_hmx_feat_img",i),new __ezDotData("old_target_hmx_feat_img",o)]),k("featured image identified was",h,`old target position: ${c}. new: ${t}`),c=t}else k("no featured image on the page",h);var u=l+n*(1+s),[t,i]=r(a,t,i,c);if(!t||i>u)var[t,i]=r(document.querySelectorAll("body *"),t,i,c);else k("magic: Found publisher placeholder that is good enough");return k("magic: found location. Will be placed at: element",t,"which has top position of:",i,"and needs to be below:",c),t}function a(e,t){let i=t.querySelectorAll("*").length,o=s(t,i,[]);if(0==o.length)return e;for(var n=[],a=0;a<o.length;a++){for(var r=!1,l=0;l<o.length;l++)if(a!=l&&o[a].contains(o[l])){r=!0;break}r||n.push(o[a])}var d=null;for(a=0;a<n.length;a++){var c=n[a].getBoundingClientRect();c.width>e&&(e=c.width,d=n[a])}return k("magic: content width is",e,d),e}function s(e,t,i){var o=e.querySelectorAll("*"),n=e.children,a=e.getBoundingClientRect();if(o.length>.33*t&&a.top<500&&!p(e)&&!m(e)){i.push(e);for(var r=0;r<n.length;r++)s(n[r],t,i)}return i}function r(e,t,i,n){let s=w,r=f,y=v;o()&&(s=E,r=P,y=b);const g=window.innerWidth;var I=a(0,document.body);k("magic: content width is ",I,"viewportWidth is ",g,"thresholdWidthMinPixels is ",y),I<y&&(k("magic: content width changed to viewport width"),I=g),k("getting min threshold width: ",s*g,r,.66*I);var C=Math.min(s*g,r,.66*I);C<y&&(C=y),k("magic: Finding element below fold with width! (pizza) >= "+C+"px and fold position >= "+n+"px");let z=1/0,_=null;if(window.__ez&&window.__ez.tf&&window.__ez.tf.vidAbvFoot){document.querySelectorAll(T.join(",")).forEach((e=>{let t=e.getBoundingClientRect();t.top<z&&(_=e,z=t.top)})),k(`magic: footer is ${_} with top ${z}. player must be above it.`)}for(const o of e){const e=o.getBoundingClientRect();(o.hasAttribute("data-ezhumixplayerlocation")||o.classList.contains("ez-video-placeholder-marker"))&&(e.width=C);let a=e.top<z;e.top>=n&&e.width>=C&&e.top<i&&u(o)&&!p(o)&&!h(o)&&!c(o)&&!m(o)&&l(o,n)&&!d(o)&&a&&(i=e.top,t=o)}return[t,i]}function l(e,t){for(const i of e.children){const e=i.getBoundingClientRect();if(!(0==e.width||0==e.height)&&e.top<t-100)return k("magic: dissalowed because child top: "+e.top+" < targetPosition-100: "+t),!1}return!0}function d(e){for(;e;){const t=window.getComputedStyle(e);if(parseInt(t.height)>450)return!1;if("none"!==t.backgroundImage)return!0;e=e.parentElement}return!1}function c(e){var t=e.getBoundingClientRect(),i=e.previousElementSibling;if(i){var o=i.getBoundingClientRect();if(t.top<o.bottom-30)return k("magic: dissalowed because element is overlapping: "+e),!0}return!1}function h(e){if(e.hasAttribute("data-ezoic-video-included")||e.classList.contains("ez-video-placeholder-marker"))return!1;let t=!window.EzoicMagicPlayerInclusionSelectors||0===window.EzoicMagicPlayerInclusionSelectors.length;for(;e;){if(x.includes(e.id))return!0;if(!e.hasAttribute("data-ezoic-video-included")&&V.includes(e.tagName.toLowerCase())||e.hasAttribute("data-ezoic-video-excluded"))return!0;t=t||e.hasAttribute("data-ezoic-video-included");for(var i=0;i<S.length;i++)if(e.classList.contains(S[i]))return k("magic: dissalowed because element has disallowed class: "+e),!0;e=e.parentElement}return!t}function u(e){return!!_.includes(e.tagName.toLowerCase())}function m(e){for(;e;){var t=window.getComputedStyle(e);if(("fixed"===t.position||"sticky"===t.position||"absolute"===t.position)&&!e.hasAttribute("data-ezoic-video-included"))return k("magic: dissalowed because element is floating: "+e+" classes: "+e.classList),!0;e=e.parentElement}return!1}function p(e){var t=!(e.offsetWidth||e.offsetHeight||e.getClientRects().length);return t&&k("magic: dissalowed because element is invisible: "+e),t}function y(){const a=n(t);if(a&&a.parentNode){var s=!1;let t=window.getComputedStyle(a.parentNode),o=window.getComputedStyle(a);"grid"===t.display&&(s=!0,i.style="grid-column: 1/-1;"),(s=s||"grid"===t.display||"flex"===t.display)&&(k(`setting the order of the player's insert span to ${o.order}`),i.style.order=o.order),e instanceof Node?i.appendChild(e):i.innerHTML=e,a.parentNode.insertBefore(i,a);let n=function(e){if(!(e instanceof Element))throw new Error("Invalid input: not a DOM element");let t=e;for(;t.parentElement;){const i=t.parentElement;if(i.clientHeight<e.clientHeight){if("0px"!=window.getComputedStyle(i).height)return i}t=i}return null}(i);if(null!=n){if("0px"!=window.getComputedStyle(n).height){const e=5;k("magic: setting min height for ancestor element so that player doesn't overflow:",n),n.style.minHeight=e+n.scrollHeight+"px",B()&&(n.dataset.hmxplayer="added override to min height so that that the player won't overflow")}}return function(e){if(!e.hasAttribute("data-ezhumixplayerlocation"))return;for(;e.firstChild;)e.removeChild(e.firstChild);const t=e.id.match(/\d+$/)[0];document.querySelectorAll(`[data-ez-ph-id="${t}"]`).forEach((e=>{e.remove()}))}(a),function(e){if(!e.hasAttribute("data-ezhumixplayerlocation"))return;const t=e.parentElement;t.classList.contains("adslot")&&(t.classList.remove("adslot"),t.removeAttribute("id"))}(a),k("magic: Magic JS inserter placed magic player below fold",a),a.offsetWidth?parseInt(a.offsetWidth):parseInt(I)}if(!window.EzoicMagicPlayerInclusionSelectors||0===window.EzoicMagicPlayerInclusionSelectors.length){let t=!1;for(let e=0;e<T.length;e++){if(document.body.querySelector(T)){t=!0;break}}var r=window.EzoicPreferredLocation||1;if(!t&&1==r){let t=C;return o()&&(t=z),window.innerHeight-.5*t<Math.max(document.documentElement.scrollHeight,document.documentElement.offsetHeight,document.body.scrollHeight)&&(e instanceof Node?i.appendChild(e):i.innerHTML=e,k("magic: inserting to the end of the body, since there are no other good candidates"),document.body.appendChild(i)),document.body.offsetWidth?parseInt(document.body.offsetWidth):parseInt(I)}return k("magic: Magic JS inserter couldn't find a good element to insert into"),!1}}i.className="humix-universal-js-insert",i.style="display: block;padding:30px 0px;text-align:center;margin:0 auto;max-width:calc(min(768px, 100%))";let g=!1;var A;return g=y(),g||(await(A=300,new Promise((e=>setTimeout(e,A)))),k("magic: trying to place below fold again"),g=y()),g}async function L(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;for(var i=document.querySelectorAll('[id^="humix-vid-"]'),n=0;n<i.length;n++)for(var a=i[n].querySelectorAll("script"),s=0;s<a.length;s++)if(a[s].src.includes("humix.com"))return k("magic: found humix embed, not inserting magic player"),!1;k("Attempting to insert magic player",document.readyState);var r=await A(e,t);if(!!!r){let t=function(){let e=Array.from(document.querySelectorAll("span, div")).filter((e=>{const t=e.classList,i=e.id;return!(t.contains("under_page_title")||t.contains("top_of_page")||t.contains("sidebar")||t.contains("bottom_floating"))&&(t.contains("ezoic-autoinsert-video")||i.startsWith("ezoic-pub-video-placeholder-"))&&(!e.nextElementSibling||!e.nextElementSibling.id.startsWith("ez-video-wrap-"))}));return e.sort(((e,t)=>e.getBoundingClientRect().top-t.getBoundingClientRect().top)),e}();if(0==t.length)return k("No valid video nodes found for magic player, not inserting"),!1;k("Default inserting magic player into",t[0]),t[0].insertAdjacentHTML("afterend",e)}let l=parseInt(I);return l>r&&o()&&(l=r),Array.prototype.slice.call(document.querySelectorAll(".humix-universal-js-insert > .ez-video-wrap > .ez-video-center")).forEach((function(e){e.classList.contains("ez-playlist-vertical")||(e.style.maxWidth=l+"px")})),!0}function B(){return"1"===new URLSearchParams(window.location.search).get("ez_vid_autoinsert_debug")}function k(){if(B()){let e=Array.from(arguments);e.unshift("[Video Player]"),console.log.apply(console,e)}}function $(){if(M()){let e=Array.from(arguments);e.unshift("[Video Player]"),console.log.apply(console,e)}}function M(){return"1"===new URLSearchParams(window.location.search).get("ez_vid_debug")}function j(){return"1"===new URLSearchParams(window.location.search).get("ez_instream_debug")}function F(e){return new Promise(((t,i)=>{let o=new XMLHttpRequest;o.open("GET",e,!0),o.onload=function(){o.status>=200&&o.status<300?t(o.responseText):i(o.statusText)},o.onerror=function(){i(o.statusText)},o.send(null)}))}function O(e,t){return new Promise(((i,o)=>{let n=new XMLHttpRequest;n.open("POST",e,!0),n.setRequestHeader("Content-Type","application/json"),n.onload=function(){n.status>=200&&n.status<300?i(n.responseText):o(n.statusText)},n.onerror=function(){o(n.statusText)},n.send(JSON.stringify(t))}))}function H(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!ae(e)&&!se(e))return!1;try{google.ima}catch(t){return $("google.ima not found, ads will not load"),!1}return!!__ez.vhb||($("ez.vhb not found, ads will not load"),!1)}function R(e,t,i,o){let n=!1,a=!1;i&&(n=i.autoplay_allowed,a=i.autoplay_allowed_muted),e.video_position_id=t.VideoPlaceholderId,e.is_autoplay=t.IsAutoPlay&&(n||a),e.is_floating=t.IsFloating,e.player_id=t.PlayerId,e.ads_enabled=t.AdsEnabled,e.play_outstream=t.playOutstream,"undefined"===typeof o?(e.ezVideoId=t.VideoContentId,e.title=U(t.VideoTitle),e.video_length=t.VideoDurationMs):(e.ezVideoId=o.VideoContentId,e.title=U(o.Title),e.video_length=o.VideoDurationMs)}function q(e){let t=null,i=e.VideoChapters;if(i&&i.Chapters&&i.EndTimes&&i.StartTimes&&i.Chapters.length>0&&i.Chapters.length==i.StartTimes.length&&i.StartTimes.length==i.EndTimes.length){let e=ne(i);if(!e)return t;t={durations:e.durations,texts:e.texts}}return t}function W(e,t){let i=[],o={};o.error_description=t,e&&"undefined"!==typeof e.ezVideoImpressionId?o.video_impression_id=e.ezVideoImpressionId:o.video_impression_id="00000000-eeee-0000-eeee-000000000000",e&&(e.ezErrorState=!0),o.pageview_id="undefined"!==typeof _ezaq&&_ezaq.page_view_id,i.push(o),(new Image).src=(window._ez_send_requests_through_ezoic||window.hasOwnProperty("ezIntType")&&"wp"===window.ezIntType||window._ez_sa?"https://g.ezoic.net":window.location.protocol+"//"+document.location.hostname)+"/detroitchicago/ved.gif?e="+encodeURIComponent(JSON.stringify(i))}function D(e,t,i){if($("Setting up captions plugin for VideoPositionId =",t.VideoPlaceholderId),t.isPlaylist){let e=t.VideoPlaylist;var o={isPlaylist:t.isPlaylist,srcs:e.Videos.map((function(e){for(const t in e.Captions)e.Captions[t].startsWith("/")&&(e.Captions[t]="https://video-streaming.ezoic.com"+e.Captions[t]);return e.Captions}))},n={isPlaylist:t.isPlaylist,srcs:e.Videos.map((function(e){return e.VideoLinksSrc}))}}else{(o={isPlaylist:t.isPlaylist,srcs:[t.Captions]}).srcs.forEach((function(e){for(const t in e)e[t].startsWith("/")&&(e[t]="https://video-streaming.ezoic.com"+e[t])}));n={isPlaylist:t.isPlaylist,srcs:[t.VideoLinksSrc]}}let a=n.srcs.map((function(e){return e?F(e).catch((function(e){return""})):Promise.resolve("")})),s=o.srcs.map((function(e){let t=[];for(let i in e)t.push({lang:i,url:e[i]});return Promise.all(t.map((e=>{let{lang:t,url:i}=e;return i?F(i).then((e=>({lang:t,data:e}))).catch((function(e){return{}})):Promise.resolve({})})))}));Promise.all([Promise.all(a),Promise.all(s)]).then((function(e){let[t,i]=e,o=function(e){return e?"data:text/vtt;base64,"+btoa(unescape(encodeURIComponent(e))):""},n=t.map(o),a=[];for(let s of i){let e={};for(let{lang:t,data:i}of s)t&&i&&(e[t]=o(i));a.push(e)}return[n,a]})).then((function(o){let[a,s]=o,r=a;n.isPlaylist||(r=a[0]);let l=s;n.isPlaylist||(l=s[0]);let d="ez-video-links-"+t.PlayerId;e.vttLinks({src:r,el:document.getElementById(d),onclick:function(e,t){i&&i.handleClickLink&&i.handleClickLink(e,t)},caption:l})}))}function N(e,t,i){let o,n,a,s,r;$("Setting up sharing plugin for VideoPositionId =",t.VideoPlaceholderId);let l=new URL(window.location.href);window.location.href.includes("/video/ezoic/view")?(o=t.VideoContentId,n=U(t.VideoTitle)):(l.hash="ezoic-pub-video-placeholder-"+t.VideoPlaceholderId,"undefined"===typeof i?(o=t.VideoContentId,n=U(t.VideoTitle),a=U(t.VideoDescription),s=t.PreviewURL,l.searchParams.set("ez_vid",o)):(r=e.videos[i],o=r.VideoContentId,n=U(r.Title),a=U(r.Description),s=r.PreviewImage,l.searchParams.set("ez_vid",o),l.searchParams.set("ez_vpid",t.VideoPlaceholderId),l.searchParams.set("ez_vpi",i)));let d={socials:["fbButton","tw","reddit","email","telegram","whatsapp","pinterest"],url:"https://www.humix.com/video/"+o,title:"Video Title Not Set"!==n?n:"",description:a,image:s,embedCode:"<script>(window.humixPlayers = window.humixPlayers || []).push({ target: document.currentScript, videoID: &quot;"+o+"&quot; });<\/script><script async data-cfasync=&quot;false&quot; src=&quot;https://www.humix.com/video.js&quot;><\/script>"};e.sharePlugin?e.sharePlugin.newOptions(d):e.sharePlugin=e.share(d)}function U(e){return e&&"function"===typeof e.replaceAll?e.replaceAll('"','"'):e}function G(e,t,i){return function(i){var o=i(`ez-video-${e.PlayerId}`,function(e,t){if("undefined"!==typeof e.videojsOptions)return e.videojsOptions;let i=document.getElementById("ez-video-wrap-"+e.PlayerId),o=!1;i&&(o=i.classList.contains("vertical-wrap"));let n=!1,s=!1;t&&(n=t.autoplay_allowed,s=t.autoplay_allowed_muted);let r=!1,l=!e.IsHumixApp,d=!0,c=!1;e.IsAutoPlay&&(r=!("www.flickify.com"==document.location.host||window.is_humix_app));e.IsFloating&&(l=!1),"undefined"!==typeof isSharedEmbed&&isSharedEmbed&&(d=!1,c=!0);let h={autoplay:!1,muted:r,suppressNotSupportedError:a(),fluid:d,fill:c,resizeManager:!0,playbackRates:[.5,1,1.5,2],liveTracker:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","resizeManager"],controlBar:{pictureInPictureToggle:l,progressControl:{seekBar:{chapters:q(e)}},skipButtons:!1,skipForward:!1,skipBackward:!1,liveDisplay:!1,seekToLive:!1,liveTracker:!1,customControlSpacer:!1,chaptersButton:!1,descriptionsButton:!1,audioTrackButton:!1,timeDisplayAboveProgress:1!=window._ezaq.form_factor_id,timeControlGroup:e.MagicPlaceholderType!==p}};if((e.isPlaylist||e.IsHumixApp&&2!=window._ezaq.form_factor_id)&&(h.aspectRatio="16:9"),o&&(h.aspectRatio="9:16"),h.controlBar.fullscreenToggle={},e.IsHumixApp&&2==window._ezaq.form_factor_id){let t="landscape";t=e.IsVertical?"portrait":"landscape",h.controlBar.fullscreenToggle.orientationLock=t}return h}(e,t),(function(){window.isSharedEmbed&&e.MagicPlaceholderType==y&&o.fill(!0)}));let n=document.createElement("div");return n.setAttribute("id",`ez-video-ad-container-${e.PlayerId}`),o.el().appendChild(n),o}(videojs)}function Y(e,t){if($("Setting up markers plugin"),!t)return;let i={markerStyle:{width:"4px","background-color":"green"},markers:t.map((t=>{let i=t.timeOffsetSeconds;return-1==i&&(i=e.video_length/1e3),{time:i,text:t.breakID+": "+t.timeOffset}}))};"function"!==typeof e.markers&&e.markers.destroy(),e.markers(i)}function J(e,t){const i=t.PlayerId;function o(t,i){const o=document.getElementById(t);o&&o.addEventListener("click",(function(t){e.trigger(i)}))}o("vignette-top-title-link-"+i,"clickThroughToHumixPage"),o("watch-on-link-"+i,"clickThroughToHumixPage"),o("control-bar-watchonlink-button-"+i,"clickThroughToHumixPage"),o("ez-lower-title-link-"+i,"clickThroughToHumixPage")}function K(e){return new Promise((function(t,i){var o=new XMLHttpRequest;o.addEventListener("load",(()=>{200===o.status?t(o.responseText):i()})),o.open("GET",e),o.send()}))}function X(e,t){var i=[];return e.split(/[\r\n][\r\n]/i).forEach((function(e){if(e.match(/([0-9]{2}:)?([0-9]{2}:)?[0-9]{2}(.[0-9]{3})?( ?--> ?)([0-9]{2}:)?([0-9]{2}:)?[0-9]{2}(.[0-9]{3})?[\r\n]{1}.*/gi)){var o=e.split(/[\r\n]/i),n=o[0].split(/ ?--> ?/i),a=n[0],s=n[1],r=function(e,t){let i,o={css:{},data:{}};i=t.indexOf("//")>=0?t.split(/([^\/]*)$/gi).shift():[window.location.protocol,"//",window.location.hostname,window.location.port?":"+window.location.port:"",window.location.pathname].join("").split(/([^\/]*)$/gi).shift()+t.split(/([^\/]*)$/gi).shift();if(e=function(e,t){if(e.indexOf("//")>=0)return e;if(0===t.indexOf("//"))return[t.replace(/\/$/gi,""),Z(e,"/")].join("/");if(t.indexOf("//")>0)return[Z(t,"/"),Z(e,"/")].join("/");return e}(e,i),!e.match(/#xywh=/i))return o.css.background='url("'+e+'")',o;let n=function(e){var t=e.split(/#xywh=/i),i=t[0],o=t[1].match(/[0-9]+/gi);return{x:o[0],y:o[1],w:o[2],h:o[3],image:i}}(e),a=parseInt(n.x),s=parseInt(n.y);return o.data.x=a,o.data.y=s,o.data.image=n.image,o.css.background='url("'+n.image+'") no-repeat -'+n.x+"px -"+n.y+"px",o.css.width=n.w+"px",o.css.height=n.h+"px",o}(o[1],t);i.push({start:Q(a),end:Q(s),css:r.css,data:r.data})}})),i}function Q(e){var t=function(e){var t=e.split("."),i=t[0].split(":");return{milliseconds:parseInt(t[1])||0,seconds:parseInt(i.pop())||0,minutes:parseInt(i.pop())||0,hours:parseInt(i.pop())||0}}(e);return parseInt(3600*t.hours+60*t.minutes+t.seconds+t.milliseconds/1e3)}function Z(e,t){var i=[" ","\n","\r","\t","\f","\v","\xa0","\u2000","\u2001","\u2002","\u2003","\u2004","\u2005","\u2006","\u2007","\u2008","\u2009","\u200a","\u200b","\u2028","\u2029","\u3000"].join(""),o=0,n=0;for(e+="",t&&(i=(t+"").replace(/([[\]().?/*{}+$^:])/g,"$1")),o=e.length,n=0;n<o;n++)if(-1===i.indexOf(e.charAt(n))){e=e.substring(n);break}for(n=(o=e.length)-1;n>=0;n--)if(-1===i.indexOf(e.charAt(n))){e=e.substring(0,n+1);break}return-1===i.indexOf(e.charAt(0))?e:""}function ee(){return new Promise((async e=>{"loading"===document.readyState?($("["+videoObject.VideoPlaceholderId+"]","waiting for document to be ready before inserting magic html"),document.addEventListener("DOMContentLoaded",e)):e()}))}window.hasEzChromeExtListener||(window.addEventListener("message",(e=>{if(e.origin!==window.location.origin)return;const t=e.data;"insertHTMLBelowFold"===t.action&&L(t.html,t.viewport)})),window.hasEzChromeExtListener=!0);const te=new EventTarget,ie=new MutationObserver((e=>{const t=e.map((e=>e.target)).find((e=>"ins"===e.tagName?.toLowerCase()&&e.hasAttribute("data-anchor-status")));t&&(ie.disconnect(),oe(),new MutationObserver(oe).observe(t,{attributes:!0,attributeFilter:["style"]}))}));function oe(){te.dispatchEvent(new CustomEvent("anchor-update"))}function ne(e){if(!e||!e.Chapters||!e.StartTimes||!e.EndTimes||0===e.Chapters.length||e.Chapters.length!==e.StartTimes.length||e.StartTimes.length!==e.EndTimes.length)return null;let t=[],i=[0];for(let n=0;n<e.StartTimes.length-1;n++)t.push(Math.max(e.StartTimes[n+1],e.EndTimes[n])-e.StartTimes[n]);t.push(e.EndTimes[e.EndTimes.length-1]-e.StartTimes[e.StartTimes.length-1]);let o=0;for(let n=0;n<t.length;n++)o+=t[n],i.push(o);return{durations:t,timestamps:i,texts:e.Chapters}}function ae(){const e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?window.__ezOutstream:window.__ezInstream;if("undefined"===typeof e||"undefined"===typeof e.monetizationApproval)return!1;return e.monetizationApproval.MCMApproved}function se(){const e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?window.__ezOutstream:window.__ezInstream;if("undefined"===typeof e||"undefined"===typeof e.monetizationApproval)return!1;const t=e.monetizationApproval;return t.HDMApproved||t.HasGoogleEntry}function re(e,t){e&&t&&"undefined"!==typeof t.Language&&"undefined"!==typeof ezVideo&&("undefined"===typeof ezVideo.playerLanguage&&(ezVideo.playerLanguage={}),ezVideo.playerLanguage[e]=t.Language)}function le(e,t){let i=document.getElementById("ez-video-links-"+t.PlayerId);i&&(e.onAdStarted((()=>i.classList.add("ez-video-link-hide"))),e.onAdCompleted((()=>i.classList.remove("ez-video-link-hide"))))}function de(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?e&&e.AdsEnabled?e.AdsEnabled:e.AdsEnabled||ae(t)?0:se(t)?1:0:0}function ce(){return new Promise((e=>{"interactive"===document.readyState||"complete"===document.readyState?e():window.addEventListener("load",e)}))}function he(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=t.isWideTop||!1,n=t.applyToFixedOnly||!1,a=t.buffer||2;if(!o()&&!i&&!n)return 0;const s=window.getComputedStyle(e);if(n&&"fixed"!==s.position)return 0;let r=0;const l=document.getElementsByTagName("header");l.length>0&&(r=Math.max(r,l[0].clientHeight));const d=document.getElementsByTagName("nav");return d.length>0&&(r=Math.max(r,d[0].clientHeight)),r>=120&&(r=0),r>0&&e.style.setProperty("top",`${r+a}px`,"important"),r}function ue(e,t,i,o,n){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;if(!e||!t||!i)return;if(t.MagicPlaceholderType===y||t.MagicPlaceholderType===p)return;let s=null;a&&a.classList&&(s=me(a)),__ez.vhb.requestBreaks(t.PlayerId,i.VideoContentId,de(t,!1),t.VideoPlaceholderId,o,t.IsAutoPlay,!0,n,!1,!0,s).then((t=>{e.adRenderer.setFloatingAdBreaks(t)}))}function me(e){if(!e||!e.classList)return r.BOTTOM_CENTER;const t=Array.from(e.classList).join(" ");return t.includes("ez-float-wide-top")?r.WIDE_TOP:t.includes("ez-float-left")&&t.includes("ez-float-top")?r.TOP_LEFT:t.includes("ez-float-right")&&t.includes("ez-float-top")?r.TOP_RIGHT:t.includes("ez-float-left")?r.BOTTOM_LEFT:t.includes("ez-float-right")?r.BOTTOM_RIGHT:r.BOTTOM_CENTER}function pe(e,t,i){return`https://streaming.humix.com/resized-posters/${e}/res${t}.webp?cb=${i}`}function ye(e,t){if(!e.HasMultiplePosterResolutions)return e.PreviewURL||e.PreviewImage;switch(t){case 1:return e.PreviewURL||e.PreviewImage;case 2:return pe(e.VideoContentId,640,e.ResizedPosterVersion);case 3:return pe(e.VideoContentId,1280,e.ResizedPosterVersion)}}ie.observe(document,{attributes:!0,attributeFilter:["data-anchor-status"],subtree:!0});const ge="videoOnScreen",fe="videoOffScreen",ve="floatingPlayerEnabled",we="floatingPlayerClosed",Pe="floatingPlayerShow",be="floatingPlayerHide";class Ie{constructor(e,t){if(this.player=e,this.videoObject=t,this.playerId=t.PlayerId,this.$videoContainer=document.getElementById(`ez-video-container-${this.playerId}`),this.$video=document.getElementById(`ez-video-${this.playerId}`),this.closeButton=document.getElementById(`ez-video-ez-stuck-close-${this.playerId}`),this.stuckBarElement=document.getElementById(`ez-video-ez-stuck-bar-${this.playerId}`),this.floatingPlaceholderSizer=document.getElementById(`floating-placeholder-sizer-${this.playerId}`),this.floatingPlaceholder=document.getElementById(`floating-placeholder-${this.playerId}`),this.videoLinks=document.getElementById(`ez-video-links-${this.playerId}`),this.$videoWrap=document.getElementById(`ez-video-wrap-${this.playerId}`),this.setupMagicPlaylistAdjustments(),this.originalParent=this.$videoContainer.parentNode,this.originalNextSibling=this.$videoContainer.nextSibling,this.controlBarElements={qualityEl:this.$videoContainer.querySelector(".vjs-max-quality-selector-button"),shareEl:this.$videoContainer.querySelector(".vjs-share-control"),pipEl:this.$videoContainer.querySelector(".vjs-picture-in-picture-control"),captionsEl:this.$videoContainer.querySelector(".vjs-subs-caps-button"),remainingTimeEl:this.$videoContainer.querySelector(".vjs-remaining-time"),playbackRateEl:this.$videoContainer.querySelector(".vjs-playback-rate"),timeControlEls:this.$videoContainer.querySelectorAll(".vjs-time-control")},this.isFloating=t.IsFloating,this.isFloatingAnimationOverridden=!1,this.mustSyncFloatingEventsWithOutstream=!1,this.currentlyFloating=!1,this.hasClosedFloatingPlayer=!t.IsFloating,this.wasFloating=!1,this.siderailLoaded=!1,this.siderailUnLoaded=!1,this.leftSiderailLoaded=!1,this.videoHasBeenOnScreen=t.IsFloating&&!this.videoIsOffscreen(!0),this.isAutoPlayMagicPlayer=t.MagicPlaceholderType===p,this.isEmbed=!!t.IsSharedEmbed,this.hasCaptions="undefined"!==typeof t.Captions,this.shouldConsiderDocVisibility=t.ShouldConsiderDocVisibility||!1,this.isAutoPaused=!1,this.isAdPaused=!1,this.normalWidth=0,this.cachedViewportHeight=null,this.viewportHeightLastCheckedTime=0,this.heightCheckThreshold=200,this.minReasonableViewportHeight=300,this.$upVideoWrap=null,t.MagicPlaceholderType==p){var i=document.getElementsByClassName("ez-video-magic-autoplayer");i&&i.length>0&&(this.$upVideoWrap=i[0])}this.handleScroll=this.handleScroll.bind(this),this.handleVisibilityChange=this.handleVisibilityChange.bind(this),this.handleCloseButtonClick=this.handleCloseButtonClick.bind(this),this.handleFullscreenChange=this.handleFullscreenChange.bind(this),this.updateVideoDims=this.updateVideoDims.bind(this),this.autoPause=this.autoPause.bind(this),this.onTimeupdateAutoPauseForVisibility=this.onTimeupdateAutoPauseForVisibility.bind(this),this.init()}init(){this.isFloating&&this.setupFloating(),this.player.on(be,(()=>this.hideFloatingPlayer())),this.player.on(Pe,(()=>this.showFloatingPlayer())),this.closeButton&&this.closeButton.addEventListener("click",this.handleCloseButtonClick),this.player.on("playing",(async()=>{await this.updateVideoDims(),this.autoPause(!1)}));let e=document.getElementById("lds-ring-"+this.playerId);var t;e&&e.parentNode.removeChild(e),window.addEventListener("RightSideRailLoaded",(()=>{this.isFloating&&(this.siderailLoaded=!0,this.adjustPositionForSideRail())})),window.addEventListener("RightSideRailUnloaded",(()=>{this.isFloating&&(this.siderailUnLoaded=!1,this.adjustPositionForSideRail())})),window.addEventListener("LeftSideRailLoaded",(()=>{this.isFloating&&(this.leftSiderailLoaded=!0,this.adjustPositionForSideRail())})),document.addEventListener("fullscreenchange",this.handleFullscreenChange),window.parent===window&&(window.addEventListener("scroll",this.handleScroll,!1),this.player.one("dispose",(()=>{window.removeEventListener("scroll",this.handleScroll,!1)}))),this.shouldConsiderDocVisibility&&document.addEventListener("visibilitychange",this.handleVisibilityChange),this.setupMutationObserver(),this.player.on("click",(()=>{this.isAutoPaused=!1,this.shouldConsiderDocVisibility&&(document.removeEventListener("visibilitychange",this.onTimeupdateAutoPauseForVisibility),this.shouldConsiderDocVisibility=!1)})),t=()=>this.setPlayerFloatPositionStyling(),te.addEventListener("anchor-update",t),this.player.ready(this.updateVideoDims)}setupFloating(){this.isFloatingAnimationOverridden="none"===getComputedStyle(this.$videoContainer)["animation-name"],this.mustSyncFloatingEventsWithOutstream="undefined"!==typeof __ezOutstream&&"undefined"!==typeof ezVideoAdConductor,function(e){let t=e.parentElement;for(;null!==t&&t!==document.body;){const e=window.getComputedStyle(t).getPropertyValue("transform");$("found a transform from an ancestor element",e),"matrix(1, 0, 0, 1, 0, 0)"==e&&($("transform is safe to remove"),t.style.removeProperty("transform"),t.style.removeProperty("-webkit-transform"),t.style.removeProperty("-moz-transform"),t.style.removeProperty("-ms-transform"),t.style.removeProperty("-o-transform")),t=t.parentElement}}(this.$videoContainer)}setupMagicPlaylistAdjustments(){let e=document.getElementsByClassName("ez-video-magic-item ez-video-magic-autoplayer");e&&e.length>0&&(this.$magicPlaylistPlaceholder=e[0]);let t=document.getElementsByClassName("ez-video-magic-item ez-video-magic-playlist");if(t&&t.length>0){this.$magicPlaylistDiv=t[0];const e=document.getElementsByClassName("ez-video-magic-list ez-playlist-vertical");if(!e||0===e.length){const e=parseInt(this.$magicPlaylistDiv.style.maxWidth);this.magicPlaylistNormalWidth=e>0?e:this.$magicPlaylistDiv.offsetWidth,this.isPlaylistHorizontal=!0;let t=document.getElementsByClassName("vjs-playlist-item vjs-selected");t&&t.length>0&&(this.widthToAdjustPlaylistDiv=t[0].offsetWidth)}}}handleCloseButtonClick(){const e=async()=>{this.player.trigger(we),"undefined"!==typeof ezVideo&&ezVideo.appendFloatAfterAd&&(this.originalNextSibling?this.originalParent.insertBefore(this.$videoContainer,this.originalNextSibling):this.originalParent.appendChild(this.$videoContainer)),this.$videoContainer.classList.add("ez-player-closed"),this.hasClosedFloatingPlayer=!0,this.currentlyFloating=!1,this.autoPause(!1),this.player.trigger("floatPlayerClosed"),2===this.videoObject.FloatOptionFlag?this.$videoWrap.style.display="none":(this.$videoWrap.style.height="auto",await this.updateVideoDims(),this.player.height(this.videoHeight),this.player.width(this.videoWidth),this.$videoContainer.classList.remove("ez-stuck"),this.$videoContainer.style.top="",this.$videoContainer.style.bottom="",this.closeButton.style.display="none",this.stuckBarElement.style.display="none",this.floatingPlaceholder.style.display="none")};this.getPlayerMinWidth()>0&&(this.$videoContainer.style.removeProperty("min-width"),this.$videoContainer.style.removeProperty("width"),this.$videoContainer.style.removeProperty("max-width")),"function"===typeof window.requestAnimationFrame?requestAnimationFrame(e):e()}async updateVideoDims(){if(await ce(),this.shouldSkipFloating())return;if(this.hasFloatingConflict())return void(this.hasClosedFloatingPlayer=!0);this.player.currentWidth()<=450&&(this.hideElement(this.controlBarElements.captionsEl),this.hideElement(this.controlBarElements.shareEl),this.hideElement(this.controlBarElements.pipEl)),this.videoWidth=this.player.videoWidth(),this.videoHeight=this.player.videoHeight(),this.$videoWrap.classList.contains("vertical-wrap")?this.$videoContainer.classList.add("vertical"):this.$videoContainer.classList.remove("vertical");const e=document.getElementById("ez-cookie-dialog-wrapper");if(this.isFloating&&null===e){this.wasFloating="none"!==this.floatingPlaceholder.style.display;const e=window.ezVideoAdConductor?.getVideoAdConductor();!(this.wasFloating&&this.isAutoPlayMagicPlayer||this.videoIsOffscreen(!1))||this.hasClosedFloatingPlayer||e?.isFloatingPlayerClosed()?this.hideFloatingPlayer():e?this.player.trigger(ve):($("FloatPlayerManager: showFloatingPlayer because no vac"),this.showFloatingPlayer())}else $("[FloatPlayerManager] Either floating is disabled or cmpBanner is present - skipping floating logic")}shouldSkipFloating(){return!("undefined"===typeof ezVideo||!ezVideo.appendFloatAfterAd||!this.player.isAdInProgress())||(!!(document.getElementsByTagName("vdo").length>0&&this.videoIsOffscreen(!1))||("undefined"!==typeof smInit&&smInit>0||"undefined"!==typeof smInitPlayer&&smInitPlayer>0)&&(this.hasClosedFloatingPlayer=!0,!0))}hasFloatingConflict(){return"undefined"!==typeof smInit&&smInit>0||"undefined"!==typeof smInitPlayer&&smInitPlayer>0}videoIsOffscreen(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.floatingPlaceholderSizer)return!1;let t=this.$videoWrap;this.$upVideoWrap&&(t=this.$upVideoWrap);const i=t.scrollHeight,o=this.$video.scrollHeight,n=i||o,a=window._hmx.topWindowBridge.getBoundingClientRectInTopWindow(t).top,s=a+n/2,r=a+n,l=window._hmx.topWindowBridge.getTopWindowInnerHeight();let d,c;return l<=.66*n?(d=r<0,c=l<a):(d=s<0,c=l<s),e||this.videoHasBeenOnScreen?d||c:d&&!c}async showFloatingPlayer(){if($("[FloatPlayerManager] attempting to show floating player"),this.isFloatingDisplayed())return;if(!this.videoIsOffscreen(!1))return void $("FloatPlayerManager: ignore showFloatingPlayer because video is on screen");this.floatingPlaceholder.style.height=`${this.$videoContainer.clientHeight}px`,this.setPlayerDimensions(),this.$videoContainer.classList.add("ez-stuck","ez-floating"),this.$videoContainer.classList.remove("floating-placeholder-sizer"),this.$videoContainer.style.zIndex="2147483646";const e=this.$videoContainer.classList.contains("ez-float-wide-top");if(e){this.$videoContainer.style.setProperty("position","fixed","important");he(this.$videoContainer,{isWideTop:!0})||this.$videoContainer.style.setProperty("top","0","important"),this.$videoContainer.style.setProperty("left","0","important"),this.$videoContainer.style.setProperty("right","0","important"),this.$videoContainer.style.setProperty("bottom","auto","important"),this.$videoContainer.style.setProperty("width","100%","important"),this.$videoContainer.style.setProperty("min-width","100%","important"),this.$videoContainer.style.setProperty("max-width","none","important"),this.$videoContainer.style.setProperty("z-index","2147483647","important")}else{const e=this.getPlayerMinWidth();if(e>0){this.$videoContainer.style.setProperty("min-width",`${e}px`,"important");let t=2===_ezaq?.form_factor_id?"50%":"25%";this.$videoContainer.style.setProperty("width",t,"important");const i=this.isWideTopTest()?"100%":"256px";this.$videoContainer.style.setProperty("max-width",i,"important")}}this.adjustPositionForSideRail(),this.hideFloatingControls(),this.$video.firstChild.style.width="-webkit-fill-available",this.currentlyFloating=!0,"undefined"!==typeof ezVideo&&ezVideo.appendFloatAfterAd&&!this.wasFloating&&document.body.append(this.$videoContainer),this.videoObject.MagicPlaceholderType===p?(this.player.controlBar.show(),this.handleHideMagicPlaceholder()):function(e,t){const i=document.querySelector(`#floating-placeholder-${e} #floating-placeholder-thumbnail`);i&&(i.src=t)}(this.playerId,this.videoObject.PreviewURL||this.videoObject.PreviewImage),this.closeButton.style.display="flex",this.stuckBarElement.style.display="flex",this.videoLinks&&(this.videoLinks.style.display="none"),this.floatingPlaceholder.style.display=e?"none":"block",this.setPlayerFloatPositionStyling(),window.ezVideoAdConductor?.getVideoAdConductor()?.check()}hideFloatingPlayer(){if($("[FloatPlayerManager] attempting to hide floating player"),!this.isFloatingDisplayed())return;this.player.height(this.videoHeight),this.player.width(this.videoWidth),this.player.aspectRatio(this.$videoWrap.classList.contains("vertical-wrap")?"9:16":"16:9"),this.$videoContainer.classList.remove("ez-floating","ez-stuck"),this.$videoContainer.style.top="",this.$videoContainer.style.bottom="",this.$videoContainer.style.right="",this.$videoContainer.style.left="",this.$videoContainer.style.zIndex="";this.getPlayerMinWidth()>0&&(this.$videoContainer.style.removeProperty("min-width"),this.$videoContainer.style.removeProperty("width"),this.$videoContainer.style.removeProperty("max-width")),this.currentlyFloating=!1,this.showFloatingControls(),this.videoObject.MagicPlaceholderType===p&&(this.player.controlBar.hide(),this.handleShowMagicPlaceholder()),this.closeButton.style.display="none",this.stuckBarElement.style.display="none",this.videoLinks&&(this.videoLinks.style.display="block"),this.floatingPlaceholder.style.display="none",this.setPlayerFloatPositionStyling()}setPlayerDimensions(){this.$videoWrap.classList.contains("vertical-wrap")?(this.player.height(400),this.player.width(225),this.player.aspectRatio("9:16")):(this.player.height(225),this.player.width(400),this.player.aspectRatio("16:9"))}adjustPositionForSideRail(){this.currentlyFloating&&(this.siderailLoaded?this.$videoContainer.style.right="200px":this.siderailUnLoaded&&(this.$videoContainer.style.right="20px"),this.leftSiderailLoaded&&this.$videoContainer.classList.contains("ez-float-left")&&(this.$videoContainer.style.left="200px"))}hideFloatingControls(){this.hideElement(this.controlBarElements.qualityEl),this.hideElement(this.controlBarElements.shareEl),this.hideElement(this.controlBarElements.pipEl),this.hideElement(this.controlBarElements.captionsEl),this.$videoWrap.classList.contains("vertical-wrap")&&(this.hideElement(this.controlBarElements.playbackRateEl),this.hideElement(this.controlBarElements.remainingTimeEl),this.hideElements(this.controlBarElements.timeControlEls))}showFloatingControls(){this.player.currentWidth()<=450&&!this.$videoWrap.classList.contains("vertical-wrap")||(this.showElement(this.controlBarElements.qualityEl),this.showElement(this.controlBarElements.shareEl),this.showElement(this.controlBarElements.pipEl),this.showElement(this.controlBarElements.captionsEl),this.$videoWrap.classList.contains("vertical-wrap")&&(this.showElement(this.controlBarElements.playbackRateEl),this.showElement(this.controlBarElements.remainingTimeEl),this.showElements(this.controlBarElements.timeControlEls)))}setPlayerFloatPositionStyling(){const e=this.$videoContainer.classList.contains("ez-float-wide-top");if(!this.isWideTopTest()&&e&&this.ensureWideTopStructure(),this.isFloatingDisplayed()){const t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ezmob-footer";const t=document.getElementsByClassName(e);if(t.length)return Math.max(...Array.from(t).map((e=>e.scrollHeight)));{let e=document.querySelector('[data-anchor-status="displayed"]',".ezfound",".adsbygoogle");return e?"bottom"===window.gamAnchorPosition?e.clientHeight+(parseFloat(window.getComputedStyle(e).bottom)||0)+15:Math.max(e.scrollHeight,e.clientHeight,e.offsetHeight):0}}();if(this.isFloatingAnimationOverridden&&!e){this.$videoContainer.style.bottom=`${t+15}px`;const e=Date.now();(!this.cachedViewportHeight||e-this.viewportHeightLastCheckedTime>this.heightCheckThreshold)&&(this.cachedViewportHeight=this.getReliableViewportHeight(),this.viewportHeightLastCheckedTime=e);const i=this.cachedViewportHeight;if((t+(this.$videoContainer.clientHeight||225))/i>.65&&1!==_ezaq?.form_factor_id)this.$videoContainer.style.setProperty("max-width","140px","important"),this.$videoContainer.style.setProperty("min-width","140px","important");else{const e=this.isWideTopTest()?"100%":"256px";this.$videoContainer.style.setProperty("max-width",e,"important");const t=this.getPlayerMinWidth();t>0?this.$videoContainer.style.setProperty("min-width",`${t}px`,"important"):this.$videoContainer.style.setProperty("min-width","140px","important")}}else if(e){this.$videoContainer.style.setProperty("position","fixed","important"),he(this.$videoContainer,{isWideTop:!0}),this.$videoContainer.style.setProperty("right","0","important"),this.$videoContainer.style.setProperty("left","0","important"),this.$videoContainer.style.setProperty("bottom","auto","important"),this.$videoContainer.style.setProperty("width","100%","important"),this.$videoContainer.style.setProperty("max-width","none","important"),this.$videoContainer.style.setProperty("min-width","100%","important"),this.$videoContainer.style.setProperty("z-index","2147483647","important");const e=document.getElementById(`floating-placeholder-${this.playerId}`);e&&e.style.setProperty("display","none","important");const t=this.$videoContainer.querySelector(".ez-video-ez-stuck-title");t&&this.isWideTopTest()&&t.style.setProperty("text-decoration","underline","important")}else he(this.$videoContainer)}else this.$videoContainer.style.bottom="",this.$videoContainer.style.removeProperty("max-width"),this.$videoContainer.style.removeProperty("min-width")}ensureWideTopStructure(){this.$videoContainer.querySelector(".ez-video-right-section")||(this.$videoContainer.classList.remove("ez-float-wide-top"),this.$videoContainer.classList.add("ez-float-right"))}getReliableViewportHeight(){let e=0;return window.visualViewport&&window.visualViewport.height>0?e=window.visualViewport.height:document.documentElement&&document.documentElement.clientHeight>0?e=document.documentElement.clientHeight:window.innerHeight>0&&(e=window.innerHeight),e<this.minReasonableViewportHeight&&(e=this.cachedViewportHeight&&this.cachedViewportHeight>=this.minReasonableViewportHeight?this.cachedViewportHeight:this.minReasonableViewportHeight),e}handleScroll(){this.scrollTicking||(setTimeout((async()=>{this.scrollTicking=!1,!this.isFloating||this.videoHasBeenOnScreen||this.videoIsOffscreen(!0)||(this.videoHasBeenOnScreen=!0);const e=this.videoIsOffscreen(!1);this.wasVideoOffScreen!==e&&(this.wasVideoOffScreen=e,await this.updateVideoDims(),this.player.trigger(this.wasVideoOffScreen?fe:ge)),this.autoPause(!1)}),300),this.scrollTicking=!0)}handleVisibilityChange(){"visible"!==document.visibilityState?this.player.on("timeupdate",this.onTimeupdateAutoPauseForVisibility):this.onTimeupdateAutoPauseForVisibility()}handleFullscreenChange(){const e=this.player.currentWidth()<=450;(this.isFloating||e)&&(document.fullscreenElement?(this.showElement(this.controlBarElements.qualityEl),this.showElement(this.controlBarElements.shareEl),this.showElement(this.controlBarElements.pipEl),this.hasCaptions&&!e&&this.showElement(this.controlBarElements.captionsEl)):(this.hideElement(this.controlBarElements.qualityEl),this.hideElement(this.controlBarElements.shareEl),this.hideElement(this.controlBarElements.pipEl),this.hasCaptions&&!e&&this.hideElement(this.controlBarElements.captionsEl)))}onTimeupdateAutoPauseForVisibility(){this.player.off("timeupdate",this.onTimeupdateAutoPauseForVisibility),this.autoPause(!0)}autoPause(e){if(window.is_humix_app)return;let t=!1,i=!1;if(e){const e="visible"!==document.visibilityState&&this.shouldConsiderDocVisibility;t=e&&!this.isPaused(),i=!e&&this.isAutoPaused}else if(this.hasClosedFloatingPlayer||!this.currentlyFloating){let e=this.isElementViewableByPercentInViewportNode(this.$videoWrap,50);this.videoObject.MagicPlaceholderType===p&&(e=this.isElementViewableByPercentInViewportNode(this.$videoWrap,10));const o=!e&&!this.currentlyFloating;t=o&&!this.isPaused(),i=!o&&this.isAutoPaused}t&&($(`[${this.videoObject.VideoPlaceholderId}] [FloatPlayerManager] autoPause - pausing video`),this.totalPause(),this.isAutoPaused=!0),i&&($(`[${this.videoObject.VideoPlaceholderId}] [FloatPlayerManager] autoPause - playing video`),this.totalPlay(),this.isAutoPaused=!1)}isElementViewableByPercentInViewportNode(e,t){const i=e.getBoundingClientRect(),o=i.width*i.height;if(0===o)return!1;return Math.max(0,Math.min(i.right,window.innerWidth)-Math.max(i.left,0))*Math.max(0,Math.min(i.bottom,window.innerHeight)-Math.max(i.top,0))/o*100>=t}hideElement(e){e&&e.classList&&e.classList.add("vjs-hidden")}hideElements(e){e.forEach((e=>{e&&e.classList&&e.classList.add("vjs-hidden")}))}showElement(e){e&&e.classList&&e.classList.remove("vjs-hidden")}showElements(e){e.forEach((e=>{e&&e.classList&&e.classList.remove("vjs-hidden")}))}isFloatingDisplayed(){return"none"!==this.floatingPlaceholder.style.display}enableFloating(){$("[FloatPlayerManager] Enable Floating called"),this.isFloating=!0,this.updateVideoDims()}disableFloating(){this.isFloating=!1,this.hideFloatingPlayer()}setupMutationObserver(){new MutationObserver((e=>{if(e.length>1&&null!==this.stuckBarElement){if(this.stuckBarElement.firstElementChild.id.split("-")[4]===e[0].target.id.split("-")[2]){const t=e[1].target.classList.contains("vjs-user-active");this.stuckBarElement.style.backgroundColor=t?"rgba(32,32,32,0.7)":"rgba(32,32,32,0)",this.stuckBarElement.firstElementChild.style.opacity=t?1:0}}})).observe(this.$video,{attributeFilter:["class"]})}isPaused(){return this.isAdRunning()?this.isAdPaused:this.player.paused()}isAdRunning(){return this.player.adRenderer&&this.player.adRenderer.isAdPlaying()}totalPause(){$("[FloatPlayerManager] Calling totalPause"),this.isAdRunning()?this.isAdPaused||(this.player.adRenderer.pauseAd(),this.isAdPaused=!0):this.player.pause()}totalPlay(){$(`[${this.videoObject.VideoPlaceholderId}] [FloatPlayerManager] isautoplay: ${this.videoObject.IsAutoPlay} ---  played from totalplay`),this.isAdPaused?(this.player.adRenderer.resumeAd(),this.isAdPaused=!1):this.player.play()}getPlayerMinWidth(){if(!__ezInstream)return 0;if(__ezInstream?.vatc?.mpw){const e=parseInt(__ezInstream.vatc.mpw);if(!isNaN(e))return e}return 0}handleHideMagicPlaceholder(){this.$magicPlaylistPlaceholder&&(this.$magicPlaylistPlaceholder.style.setProperty("height","0","important"),this.$magicPlaylistPlaceholder.style.setProperty("width","0","important"),this.isPlaylistHorizontal&&(this.widthToAdjustPlaylistDiv||(this.widthToAdjustPlaylistDiv=190),this.magicPlaylistNormalWidth||(this.magicPlaylistNormalWidth=247),this.$magicPlaylistDiv.style.setProperty("max-width",`${this.magicPlaylistNormalWidth+this.widthToAdjustPlaylistDiv}px`,"important")))}handleShowMagicPlaceholder(){this.$magicPlaylistPlaceholder&&(this.$magicPlaylistPlaceholder.style.removeProperty("height"),this.$magicPlaylistPlaceholder.style.removeProperty("width"),this.isPlaylistHorizontal&&(this.magicPlaylistNormalWidth||(this.magicPlaylistNormalWidth=247),this.$magicPlaylistDiv.style.setProperty("max-width",`${this.magicPlaylistNormalWidth}px`,"important")))}isWideTopTest(){if("undefined"!==typeof _ezaq&&2===_ezaq?.form_factor_id){if("undefined"!==typeof __ez&&"true"===__ez?.tf?.vatopf)return!0;if("undefined"!==typeof __ezInstream&&!0===__ezInstream?.vatc?.itopf)return!0}return!1}}const Ee=["https://l.ezoic.com:8082","https://pubdash-internal.ezoic.com","https://pubdash.ezoic.com","https://app-local.humix.com:8765","https://app.humix.com","https://app-internal.humix.com","https://app-test.humix.com"];const Ce=["AT","BE","BG","CH","CY","CZ","DE","DK","EE","ES","FI","FR","GB","GF","GI","GP","GR","HR","HU","IC","IE","IS","IT","JE","LI","LT","LU","LV","MC","MF","MQ","MT","NL","NO","PL","PT","RE","RO","SE","SI","SK","SM","VA","YT"];function ze(){return new Promise((async e=>{const t=Ce.includes(window._ezaq?.country);if(!window.__tcfapi&&t&&await new Promise((e=>setTimeout(e,1e3))),!window.__tcfapi)return $("consent: not enabled"),void e(!0);$("consent: enabled, waiting for event"),__tcfapi("addEventListener",2,((t,i)=>{if(!i)return $("consent: event failed"),void e(!1);if(!t.gdprApplies)return $("consent: gdpr does not apply"),void e(!0);if(["useractioncomplete","tcloaded"].includes(t.eventStatus)){const i=t.purpose.consents[1],o=t.vendor.consents[755];i&&o?($("consent: accepted"),e(!0)):($("consent: rejected"),e(!1))}}))}))}function _e(e,t,i,o){!function(e,t){let i={};t.IsHumixApp&&(i.defaultQuality=2);e.maxQualitySelector(i),e.qualityLevels().on("change",(function(t){e.trigger("resolutionChange")}))}(e,t),e.textTracks().addEventListener("change",(()=>{e.trigger("captionToggle")})),function(e,t,i){K(t).then((o=>{let n=X(o,t);$("["+i.VideoPlaceholderId+"]","setting up thumbnail plugin"),e.vttThumbnails({src:t,vttObjects:n}),$("["+i.VideoPlaceholderId+"]","setting up preview plugin"),e.vttPreview(e,{videoObject:i,vttObjects:n})}))}(e,i,t),J(e,t),Le(e)}function Ve(e,t){let i=window.hasOwnProperty("ezVideoAnalytics")?window.ezVideoAnalytics:null;if(i){const o=i.NewAnalyticsPlayer(s,t,e),n=o.attachAnalytics(t);return t.IsStartTimeEnabled&&e.currentTime(t.VideoStartTime),{analytics:n,analyticsPlayer:o}}return{}}function xe(){let{player:e,magicAutoPlayVideoObject:t,currentIndex:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isFirstPlaylistItemConvertedToVideo)return;e.isFirstPlaylistItemConvertedToVideo=!0,e.el().querySelector(".vjs-poster > picture > img").style.filter="brightness(0.5)";let o=document.querySelectorAll("li.vjs-playlist-item")[i],n=document.getElementById("magic-autoplay-container");e.lastPlaylistItem={innerHTML:o.innerHTML,lastIndex:i},o.innerHTML="",o.appendChild(n),n.style.removeProperty("display"),ezVideoPlayer.Init(t).then((()=>{e.magicAutoPlayPlayer=videojs.getPlayer("ez-video-"+t.PlayerId),e.magicAutoPlayPlayer.ready((function(){e.on("playlistitem",(async function(){let t=e.playlist.currentIndex();!function(){let{player:e,currentIndex:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t==e.lastPlaylistItem.lastIndex)return void $("somehow we got the playlist item selection event for the same playlist item. exit for now");let i=document.querySelectorAll("li.vjs-playlist-item"),o=i[t],n=i[e.lastPlaylistItem.lastIndex],a=document.getElementById("magic-autoplay-container"),s=o.innerHTML;o.innerHTML="",o.appendChild(a),n.innerHTML=e.lastPlaylistItem.innerHTML,e.lastPlaylistItem={innerHTML:s,lastIndex:t};let r=e.playlist()[t];e.magicAutoPlayPlayer.poster(r.poster),e.magicAutoPlayPlayer.src(r.sources),e.magicAutoPlayPlayer.play()}({player:e,currentIndex:t})}))}))}))}function Se(e,t,i){if(t.Preview)return;var o;o=i||t.VideoPlaceholderId;let n=videojs.getComponent("Component");let a="WatchOnLinkButton-"+o;videojs.registerComponent(a,class extends n{createEl(){return videojs.dom.createEl("a",{id:"control-bar-watchonlink-button-"+t.PlayerId,className:"vjs-control control-bar-watchonlink-button",innerHTML:'<span class="tooltiptext">Watch on Humix</span><span><img style="margin-bottom: 4px;border-radius:0px" src="https://assets.humix.com/full_humix_logo_white.png" alt="Humix" class="img-fluid" /></span>',href:"https://www.humix.com/video/"+t.VideoContentId,target:"_blank"})}});let s=e.getChild("controlBar").children_.length,r=Math.max(0,s-2);e.getChild("controlBar").addChild(a,{},r)}function Te(e,t,i){var o;o=i||t.VideoPlaceholderId;const n=e.textTracks(),a=Array.from(n.tracks_).find((e=>e.language&&""!==e.language.trim()));if(!a)return;var s=videojs.getComponent("Button");let r="CaptionsToggle-"+o;videojs.registerComponent(r,class extends s{constructor(e,t){super(e,t),this.addClass("vjs-button"),this.addClass("vjs-control"),this.el().innerHTML='<span class="tooltiptext">Subtitles on/off</span><span class="vjs-icon-placeholder" aria-hidden="true"></span>'}buildCSSClass(){return"control-bar-captions-toggle"}handleClick(){"showing"===a.mode?a.mode="disabled":a.mode="showing"}}),e.getChild("controlBar").addChild(r,{},e.getChild("controlBar").children_.length-2)}function Ae(e,t,i){if(t.Preview)return;var o;let n="vjs-report-button-custom-"+(o=i||t.VideoPlaceholderId);var a=videojs.getComponent("Button");let s="ReportButton-"+o;videojs.registerComponent(s,class extends a{constructor(e,t){super(e,t),this.addClass("vjs-button"),this.addClass("vjs-control"),this.controlText("Report video"),this.el().innerHTML='<span class="vjs-icon-placeholder"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" style="fill: #ffffff;" viewBox="0 0 512 512"><path d="M349.565 98.783C295.978 98.783 251.721 64 184.348 64c-24.955 0-47.309 4.384-68.045 12.013a55.947 55.947 0 0 0 3.586-23.562C118.117 24.015 94.806 1.206 66.338.048 34.345-1.254 8 24.296 8 56c0 19.026 9.497 35.825 24 45.945V488c0 13.255 10.745 24 24 24h16c13.255 0 24-10.745 24-24v-94.4c28.311-12.064 63.582-22.122 114.435-22.122 53.588 0 97.844 34.783 165.217 34.783 48.169 0 86.667-16.294 122.505-40.858C506.84 359.452 512 349.571 512 339.045v-243.1c0-23.393-24.269-38.87-45.485-29.016-34.338 15.948-76.454 31.854-116.95 31.854z"/></svg></span>'}buildCSSClass(){return n}handleClick(){let e="https://humix.com/humix/video/report/"+t.VideoContentId;window.open(e,"_blank").focus()}});let r=e.getChild("controlBar").children_.length,l=Math.max(0,r-2);e.getChild("controlBar").addChild(s,{},l)}function Le(e){"mobile"===Be()&&e.on(e.tech_,"tap",(function(){e.paused()?e.play():e.pause()}))}const Be=()=>{const e=navigator.userAgent;return/(;? wv\))/.test(e)?"webview":/Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(e)?"mobile":"desktop"};class ke{constructor(e,t,i){this.respObj=t,this.browserPermissions=i,this.videoObject=e}async createPlayer(){return await async function(){let{videoObject:e,respObj:t,browserPermissions:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};$(`[${e.VideoPlaceholderId}]`,"Setting up video selection for VideoPositionId =",e.VideoPlaceholderId),i=function(e){return e||{autoplay_allowed:!1,autoplay_allowed_muted:!1}}(i),e.VideoDurationMs=e.VideoDurationMs||t.duration;let o=G(e,i);R(o,e,i),_e(o,e,t.thumbnailvtt,_ezaq.form_factor_id),function(e,t,i){e.poster(ye(t,_ezaq.form_factor_id)),e.src({src:i.src,type:i.type})}(o,e,t),Ae(o,e),!1===e.IsHumixApp&&!1===e.IsVertical&&Se(o,e);"undefined"!==typeof t.caption&&Te(o,e);o.settingsMenu(),re(e.PlayerId,e);const{analytics:n,analyticsPlayer:a}=Ve(o,e),s=document.getElementById(`ez-video-container-${e.PlayerId}`);await async function(e,t,i,o,n,a){const s=await ze();if(H(!1)&&s){let s=[];$(`[${t.VideoPlaceholderId}]`,"loading ads and grabbing them",s);let r="undefined"!==typeof ezVideo&&ezVideo.language?ezVideo.language:"en";$("attaching video ad rendering");const l=o.NewVideoAdInitializer(i,t,r,n),d=i.attachAdRendering({adUnit:t.AdUnit,adBreaks:s,adInitializer:l,isPlayList:!1,videoObject:t,browserPermissions:n});e.adRenderer=d,await d.initialize(),le(d,t);const c=t.MagicPlaceholderType===m&&!!t.IsFloating,h=t.MagicPlaceholderType!==m&&!!t.IsFloating;__ez.vhb.requestBreaks(t.PlayerId,t.VideoContentId,de(t,!1),t.VideoPlaceholderId,0,t.IsAutoPlay,h,t.AdUnit,!1,!1,a?me(a):null).then((o=>{i.videoContentShare=t.PublisherVideoContentShare,s=o,$("rendering ad breaks for video: ",t),e.adRenderer.requestAllAds(s)})).finally((()=>{(M()||j())&&Y(e,s),c&&ue(e,t,t,0,t.AdUnit,a)}))}else $(`[${t.VideoPlaceholderId}]`,"not loading ads",H(!1))}(o,e,a,window.ezVideoAnalytics,i,s),e.Captions=t.caption,function(e,t,i){N(e,t),D(e,t,i)}(o,e,n),e.IsStartTimeEnabled&&o.currentTime(e.VideoStartTime);return o}({videoObject:this.videoObject,respObj:this.respObj,browserPermissions:this.browserPermissions})}}class $e{constructor(e,t,i){this.json=t,this.browserPermissions=i,this.videoObject=e}async createPlayer(){return await async function(e,t,i){$(`[${e.VideoPlaceholderId}]`,"Setting up playlist selection for VideoPositionId =",e.VideoPlaceholderId);const o=window.hasOwnProperty("ezVideoAnalytics")?window.ezVideoAnalytics:null,n=e.VideoPlaylist,a=e.PlayerId,s=n.Videos.length;let r=s>0&&n.FirstVideoIndex<s?n.Videos[n.FirstVideoIndex]:null,l=G(e,i);l.videos=n.Videos,_e(l,e,t[0].thumbnailvtt,_ezaq.form_factor_id),4999!==e.VideoPlaceholderId&&l.settingsMenu();Ae(l,r,e.VideoPlaceholderId),!1===e.IsHumixApp&&Se(l,e);"undefined"!==typeof t[0].caption&&Te(l,e);J(l,e),Le(l);const{videos:d,totalDuration:c}=function(e,t,i,o){let n=0,a=e.map(((e,o)=>{t.Videos[o].AdUnit||(t.Videos[o].AdUnit=i.AdUnit),t.Videos[o].Captions=e.caption,t.Videos[o].VideoDurationMs=t.Videos[o].VideoDurationMs||e.duration,n+=t.Videos[o].VideoDurationMs;let a=t.Videos[o].PreviewImage||e.poster,s=[];return t.Videos[o].HasMultiplePosterResolutions&&s.push({srcset:`https://streaming.humix.com/resized-posters/${t.Videos[o].VideoContentId}/res384.webp?cb=${t.Videos[o].ResizedPosterVersion}`,type:"image/webp"}),s.push({src:a}),{name:U(t.Videos[o].Title),description:U(t.Videos[o].Description),duration:e.duration/1e3,sources:[{src:e.src,type:e.type}],poster:ye(t.Videos[o],_ezaq.form_factor_id),thumbnail:s,videoContentId:t.Videos[o].VideoContentId,isVertical:t.Videos[o].IsRotate}}));return{videos:a,totalDuration:n}}(t,n,e,_ezaq.form_factor_id);"undefined"!==typeof __ezInstream&&void 0!==__ezInstream.playlistDurations&&(__ezInstream.playlistDurations[e.PlayerId]=c);r&&(R(l,e,i,r),Object.assign(r,{videoObjectsCount:e.videoObjectsCount,videoObjectsIndex:e.videoObjectsIndex,debugMessage:e.debugMessage,VideoRankingConfigId:e.VideoRankingConfigId,CollectionId:e.CollectionId,ScoreGroupId:e.ScoreGroupId}));l.playlist(d,n.FirstVideoIndex);e.MagicPlaceholderType!==p&&l.playlistUi({el:document.getElementById(`ez-video-playlist-${a}`),horizontal:!n.IsVerticalPlaylist});1===s&&(e.VideoChapters&&Array.isArray(e.VideoChapters.StartTimes)&&Array.isArray(t)&&t.length>0&&t[0].thumbnailvtt?async function(e,t,i){let o=await K(i);if(!o)return;let n=X(o,i);if(!n||0===n.length||!n[0].data||!n[0].data.image)return;let a=n[0].data.image;const s=document.getElementsByClassName("vjs-playlist-item-list")[0],r=document.querySelector(".vjs-playlist-item.vjs-selected picture"),l=r?.getElementsByTagName("img")[0],d=s?.getElementsByClassName("vjs-playlist-ad-overlay")[0];if(s&&r&&l){const i=10,o=15.2344,n=147.5,r=83.969,l=150,c=10,h=ne(t).timestamps;h.forEach(((u,m)=>{if(0===m||m===h.length-1)return;const p=m,y=document.createElement("div");y.classList.add("vjs-playlist-item","vjs-playlist-chapter-item");const g=document.createElement("div");g.classList.add("vjs-playlist-thumbnail"),g.style.width=`${n}px`,g.style.height=`${r}px`,g.style.backgroundImage=`url(${a})`,g.style.backgroundSize=`${100*c+o}% auto`;const f=Math.floor(u/1e3),v=Math.ceil(f/i),w=v%c*l,P=Math.floor(v/c)*r;g.style.backgroundPosition=`-${w}px -${P}px`;const b=document.createElement("div");b.classList.add("vjs-playlist-chapter-title"),b.textContent=t.Chapters[p],y.appendChild(g),y.appendChild(b),y.addEventListener("click",(()=>{e.currentTime(u/1e3),e.play()})),d?s.insertBefore(y,d):s.appendChild(y)}))}}(l,e.VideoChapters,t[0].thumbnailvtt):function(e){const t=document.getElementsByClassName("vjs-playlist-item-list")[0],i=document.querySelector(".vjs-playlist-item.vjs-selected picture"),o=i?.getElementsByTagName("img")[0],n=t?.getElementsByClassName("vjs-playlist-ad-overlay")[0];if(t&&i&&o){if(e){let i=document.createElement("a");i.href=`https://www.humix.com/@${e}`,i.target="_blank",i.classList.add("video-js","vjs-playlist-thumbnail","vjs-selected");let a=document.createElement("img");a.loading="lazy",a.nopin="nopin",a.src=o.src,i.appendChild(a);let s=document.createElement("span");s.innerHTML=`Visit @${e}`,s.classList.add("vjs-playlist-now-playing-text"),s.style="width: 95%; color: #03d8f3 !important; font-weight: bold; overflow: hidden; text-overflow: ellipsis;",i.appendChild(s);let r=document.createElement("li");r.classList.add("vjs-playlist-item"),r.appendChild(i),n?t.insertBefore(r,n):t.appendChild(r)}let i=document.createElement("a");i.href="https://www.humix.com/",i.target="_blank",i.classList.add("video-js","vjs-playlist-thumbnail","vjs-selected"),i.style="background-color: #000; min-width:100px;";let a=document.createElement("img");a.loading="lazy",a.nopin="nopin",a.src="https://assets.humix.com/humix-logo.png",a.classList.add("vjs-playlist-now-playing-text"),a.style="height: auto; min-height: inherit; opacity: 1; max-width: 100%; object-fit: contain;",i.appendChild(a);let s=document.createElement("li");s.classList.add("vjs-playlist-item"),s.appendChild(i),n?t.insertBefore(s,n):t.appendChild(s)}}(e.ChannelSlug));let h,u;if(r&&o){const t=Ve(l,e);h=t.analytics,u=t.analyticsPlayer}r&&r.IsStartTimeEnabled&&l.currentTime(r.VideoStartTime);l.playlist.autoadvance(0),l.playlist.repeat(!0),1===n.Autoskip&&"undefined"!==typeof l.autoskip&&l.autoskip.activate();let y,g,f=Object.assign({},e,{VideoPlaylist:n});async function v(t){const n=await ze();if(H(!1)&&n){let n=[];$("["+e.VideoPlaceholderId+"]","loading ads and grabbing them",n);let a="en";"undefined"!==typeof ezVideo&&ezVideo.language&&(a=ezVideo.language);const s=t,r=l.videos[s];n=[];const d=r.AdUnit;e.AdUnit=d;let c=!1;l.adRenderer||($("attaching video ad rendering"),g=o.NewVideoAdInitializer(u,e,a,i),y=u.attachAdRendering({adUnit:d,adBreaks:n,adInitializer:g,isPlayList:!0,videoObject:e,browserPermissions:i}),l.adRenderer=y,c=!0),await new Promise((e=>{c?l.adRenderer.initialize().then((()=>{e()})):e()})),le(l.adRenderer,e);const h=e.MagicPlaceholderType===m&&!!e.IsFloating;let p=e.IsFloating;p&&h&&(p=!1);const f=document.getElementById(`ez-video-container-${e.PlayerId}`);__ez.vhb.requestBreaks(e.PlayerId,r.VideoContentId,de(e,!1),e.VideoPlaceholderId,r.InitialIndex,e.IsAutoPlay,p,d,!1,!1,f?me(f):null).then((t=>{u.videoContentShare=r.PublisherVideoContentShare,n=t,$("rendering ad breaks for video: ",e),l.adRenderer.requestAllAds(n)})).finally((()=>{(M()||j())&&Y(l,n),h&&ue(l,e,r,r.InitialIndex,e.AdUnit,f)}))}}D(l,f,h),function(){let e=document.querySelector(".ez-video-magic-list");if(!e||e.classList.contains("ez-playlist-vertical"))return;let t=e.querySelector(".ez-video-magic-item");if(!t)return;let i=t.offsetWidth;if(e.children.length<2)return;let o=e.children[1];if(!o)return;let n=e.offsetWidth;o.style.maxWidth=n-i-0+"px"}();let w=!1,P=l.playlist.currentIndex();l.on("beforeplaylistitem",(function(t){h&&h.unloadAll(),e._adAnalytics&&e._adAnalytics.videoAdEventHandler.unloadAll()}));let b=0;return l.on("playlistitem",(async function(){let o=l.playlist.currentIndex(),s=l.videos[o];"undefined"!=typeof vectx&&vectx.is_magic_player&&(l.isFirstPlaylistItemConvertedToVideo||xe({player:l,magicAutoPlayVideoObject:magicAutoPlayVideoObject,currentIndex:o}));let r=l.getChild("controlBar");if(r){let e=r.getChild("progressControl");if(e){let t=e.getChild("seekBar");t&&t.changeChapters(q(s))}}const d=o>P||b>=1;1!==n.IsShuffled&&!d||w||(w=!0),v(o),re(e.PlayerId,s),R(l,e,i,s),function(e,t,i){var o="ReportButton-"+i;e.getChild("controlBar").removeChild(o),Ae(e,t,i)}(l,s,e.VideoPlaceholderId),h&&d&&h.setVideoData(s),b++,N(l,e,o);let c=t[l.playlist.currentIndex()];l.vttThumbnails&&function(e,t){e&&e.vttThumbnails&&e.vttThumbnails.options?K(t).then((i=>{let o=X(i,t);e.vttThumbnails.options.src=t,e.vttThumbnails.options.vttObjects=o,e.vttThumbnails.vttData=o})):$("could not update vtt plugins")}(l,c.thumbnailvtt),s.IsStartTimeEnabled&&l.currentTime(s.VideoStartTime);let u=document.getElementById("ez-video-link-"+a);if(u){switch(ezVideo.titleOption){case"0":case"":u.innerHTML=s.Title;break;case"1":default:u.innerHTML="";break;case"2":u.innerHTML=ezVideo.titleString+" "+s.Title;break;case"3":u.innerHTML=s.Title+" "+ezVideo.titleString;break;case"4":u.innerHTML=ezVideo.titleString}u.href=function(e){return`//www.humix.com/video/${e.VideoContentId}`}(s)}if(e.IsFloating){let e=document.getElementById("ez-video-stuck-title-"+a);if(e){let t=s.Title;s.Title.length>35&&(t=s.Title.substring(0,34)+"..."),e.innerHTML=t}}!function(e,t,i){if("ez-4999"!==i){const e=document.getElementById(`ez-video-container-${i}`);let o="//www.humix.com/video/"+t.VideoContentId,n=document.getElementById("vignette-top-title-link-"+i);n&&(n.setAttribute("href",o),n.innerHTML=t.Title);let a=document.getElementsByClassName("watch-on-link")[0];if(a&&a.setAttribute("href",o),e){let t=e.getElementsByClassName("control-bar-watchonlink-button")[0];t&&t.setAttribute("href",o)}const s=document.getElementById(`ez-lower-title-link-${i}`);if(s){const e=s.querySelector("a");e.href=o,e.innerHTML=t.Title}if(e){const i=e.querySelector(".top-channel-logo");i&&""!=t.ChannelLogo?i.style=`background-image: url("https://video-meta.humix.com/${t.ChannelLogo}");`:i.style=""}}}(0,s,a)})),l}(this.videoObject,this.json,this.browserPermissions)}}class Me{static async createPlayer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{type:t,videoObject:i,respObj:o,json:n,browserPermissions:a}=e;let s;if("playlist"===t)s=new $e(i,n,a);else{if("video"!==t)throw new Error("PlayerFactory: Unknown player type. Use 'video' or 'playlist'.");s=new ke(i,o,a)}return await s.createPlayer()}}function je(e){return je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},je(e)}function Fe(e){var t=function(e,t){if("object"!==je(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!==je(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===je(t)?t:String(t)}function Oe(e,t,i){return(t=Fe(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class He{constructor(){Oe(this,"promise",void 0),Oe(this,"resolve",void 0),this.promise=new Promise((e=>this.resolve=e)),this.storageKey=`scrollY-${location.pathname}`,this.savedScrollY=sessionStorage.getItem(this.storageKey);"auto"===history?.scrollRestoration||null!==this.savedScrollY?this.initCustomLogic():this.resolve()}initCustomLogic(){if(history.scrollRestoration="manual",window.addEventListener("beforeunload",(()=>this.saveScrollPosition())),["interactive","complete"].includes(document.readyState)&&this.restoreScrollPosition(),window.addEventListener("DOMContentLoaded",(()=>this.restoreScrollPosition())),window.performance){const[e]=performance.getEntriesByType("navigation");"back_forward"===e?.type&&this.restoreScrollPosition()}window.addEventListener("popstate",(()=>this.restoreScrollPosition()))}saveScrollPosition(){sessionStorage.setItem(this.storageKey,window.scrollY.toString())}restoreScrollPosition(){null!==this.savedScrollY&&(window.scrollTo({top:parseInt(this.savedScrollY,10),left:0,behavior:"instant"}),sessionStorage.removeItem(this.storageKey)),this.resolve()}}let Re;async function qe(){return Re?.promise||Promise.resolve()}async function We(e){await L(e)}function De(e){!function(e){window.__humix_player__||(window.__humix_player__={loaded:0,players:[],lastTimestamp:null});const t=Date.now(),i={id:e.PlayerId,contentId:e.VideoContentId,placeholderId:e.VideoPlaceholderId,timestamp:t};window.__humix_player__.players.length>=10&&window.__humix_player__.players.shift(),window.__humix_player__.loaded++,window.__humix_player__.lastTimestamp=t,window.__humix_player__.players.push(i)}(e);window&&window.__ez&&window.__ez.ce&&(window.performance&&window.performance.timeOrigin?__ez.ce.AddPageviewEvent("video_player_js_start2",Math.floor(Date.now()-window.performance.timeOrigin)):window.performance&&window.performance.timing&&window.performance.timing.navigationStart&&__ez.ce.AddPageviewEvent("video_player_js_start2",Date.now()-window.performance.timing.navigationStart)),$("["+e.VideoPlaceholderId+"]","Initializing Ezoic Video Player for VideoPostionId =",e.VideoPlaceholderId),$("["+e.VideoPlaceholderId+"]","videoObject for VideoPostionId =",e.VideoPlaceholderId,e);let t=performance.now();if(e.MagicHTML){if(window.hasInsertedMagicPlayer)return void $("["+e.VideoPlaceholderId+"]","somehow we are inserting magic player more than once. exit for now");window.hasInsertedMagicPlayer=!0;let i=new Promise((async(i,o)=>{$("["+e.VideoPlaceholderId+"]","is being inserted on the client side"),await ee();let n=await L(e.MagicHTML);n?(e.InsertMethod="js",$("["+e.VideoPlaceholderId+"]","js insertion success. continue with the rest of the player intialization"),Ne(t,e)):($("["+e.VideoPlaceholderId+"]","Failed to insert magic player for VideoPostionId =",e.VideoPlaceholderId),function(e){if($("recording JS inserter error"),"undefined"===typeof __ez)return;if("undefined"===typeof __ez.bit)return;if("undefined"===typeof _ezaq)return;let t=_ezaq.page_view_id;"undefined"!==typeof t&&__ez.bit.Add(t,[new __ezDotData("js_inserter_err",e)])}(g)),i(n)}));return[p,y].includes(e.MagicPlaceholderType)&&(window.EzoicMagicInsertPromise=i),i}if(e.MagicPlaceholderType!=y||!window.EzoicMagicInsertPromise)return $("["+e.VideoPlaceholderId+"]","is not being inserted in the client side. continue with the rest of the player initialization"),Ne(t,e);$("["+e.VideoPlaceholderId+"]","is waiting for the inserter to finish"),window.EzoicMagicInsertPromise.then((i=>{if($("["+e.VideoPlaceholderId+"]","is done waiting for inserter. lets continue with the rest of the player initialization"),i)return Ne(t,e);$("["+e.VideoPlaceholderId+"]","looks like inserter failed. not initializing")}))}function Ne(e,t){"undefined"!==typeof ezVideo&&ezVideo.disableNonMagicFloating&&t.MagicPlaceholderType==m&&($("Disabling floating for non magic player VideoPostionId =",t.VideoPlaceholderId),t.IsFloating=!1);let i=function(e){let t;e.isPlaylist=!!e.VideoPlaylistId,t=e.isPlaylist?e.VideoPlaylist.Videos.map((e=>e.VideoContentId)):[e.VideoContentId];const i=function(){let e="dash";return(n()||a())&&(e="hls"),e}();let o;if(e.isPlaylist&&e.MagicPlaceholderType!=m){o=[O("https://videosvc.ezoic.com/playlist",{videoIDs:t,mType:i})]}else o=t.map((e=>F(function(e,t){return`https://videosvc.ezoic.com/play?videoID=${e}&manifest=${t}`}(e,i))));return Promise.all(o).then((e=>e.map(JSON.parse)))}(t),o="undefined"!==typeof vectx&&["click","clickplay"].includes(vectx.autoplay_type);if(t.IsAutoPlay&&!o){return($("checking browser autoplay"),u.video({timeout:5e3,inline:!0}).then((e=>{let{result:t,error:i}=e;return!0===t?{autoplay_allowed:!0,autoplay_allowed_muted:!1}:($("autoplay check error: ",i),{autoplay_allowed:!0,autoplay_allowed_muted:!0})})).catch((e=>($("autoplay check caught - "+e),{autoplay_allowed:!1,autoplay_allowed_muted:!1})))).then((o=>Ue({videoObject:t,metadataPromises:i,start:e,permissions:o})))}return Ue({videoObject:t,metadataPromises:i,start:e})}function Ue(){let{videoObject:e,metadataPromises:t,start:i,permissions:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.then((t=>{let i,n=t;if(!(n.length<1))return e.isPlaylist&&e.MagicPlaceholderType!=m&&(n=t[0].playbackContent),i=e.isPlaylist?{type:"playlist",videoObject:e,json:n,browserPermissions:o}:{type:"video",videoObject:e,respObj:n[0],browserPermissions:o},Me.createPlayer(i);$("["+e.VideoPlaceholderId+"]","No metadata found for VideoPostionId =",e.VideoPlaceholderId)})).then((t=>{if(!t)return void $("["+e.VideoPlaceholderId+"]","No player found for VideoPostionId =",e.VideoPlaceholderId);!async function(e,t){$("["+t.VideoPlaceholderId+"]","Setting up video player for VideoPositionId =",t.VideoPlaceholderId),t.IsHumixApp&&($("setting up next video with next video"),e.nextVideo());qe().then((()=>{const i=new Ie(e,t);i.$video.classList.remove("vjs-16-9"),t.Width<t.Height&&i.$video.classList.add("vjs-9-16")})),e.on("error",(function(t){let i=e.error(),o="Error "+i.code+"; details: "+i.message;W(e,o)}));const i=document.getElementById(`ez-video-container-${t.PlayerId}`);e.on("ended",(async function(){if(t.isPlaylist){t.MagicPlaceholderType===p&&1===e.playlist.length&&(e.playlist.first(),e.play())}else if(t.IsLoop){if(e.play(),e.adRenderer){let o=await __ez.vhb.requestBreaks(t.PlayerId,t.VideoContentId,de(t,!1),t.VideoPlaceholderId,0,t.IsAutoPlay,t.IsFloating,t.AdUnit,!1,!1,i?me(i):null);o&&e.adRenderer.requestAllAds(o)}}else e.on("playing",(async function(){if(e.adRenderer){let o=await __ez.vhb.requestBreaks(t.PlayerId,t.VideoContentId,de(t,!1),t.VideoPlaceholderId,0,t.IsAutoPlay,t.IsFloating,t.AdUnit,!1,!1,i?me(i):null);o&&e.adRenderer.requestAllAds(o)}}))})),t.IsAutoPlay&&async function(e,t,i){let o,n=!1,a=function(){!n&&function(e){const t=e.PlayerId;let i=document.querySelector(`#ez-video-container-${t}:not(.ez-stuck)`);if(i&&window.visualViewport){const e=window._hmx.topWindowBridge.getBoundingClientRectInTopWindow(i),t=e.height,o=visualViewport.height,n=visualViewport.offsetTop,a=e.top,s=e.bottom,r=Math.max(a,n),l=Math.min(s,n+o);if(Math.max(0,l-r)/t>=.5)return!0}return!1}(t)&&($("["+t.VideoPlaceholderId+"]",e+" from scroll viewabilityFunc"),n=!0,i(),window._hmx.topWindowBridge.removeScrollListener(o))};await qe(),await ce(),o=window._hmx.topWindowBridge.addScrollListener(a,!1),a()}("autoplay",t,(function(){e.play().then((function(t){e.trigger({type:"adpause",player:e})})).catch((t=>{console.error(t),n()&&(e.pause(),e.currentTime(0),e.load())}))}));window.ezVideoAdConductor?.getVideoAdConductor()?.applyVideoMagic(e,t),function(e,t){let i=t.VideoPlaceholderId;if(1!==i&&4999!==i){const t=document.getElementById(`ez-video-container-ez-${i}`),n=document.getElementById(`ez-video-ez-${i}_html5_api`),a=n.parentElement,s=t.getElementsByClassName("vignette-top-card")[0],r=t.querySelector("#vignette-top-button"),l=t.querySelector("#vignette-fullscreen-button"),d=document.getElementById("vignette-overlay"),c=document.getElementsByClassName("watch-on-link")[0],h=document.getElementById(`ez-video-links-ez-${i}`);let u=!1;document.addEventListener("click",(e=>{u=!1})),n.addEventListener("click",(e=>{!0===n.paused?(document.getElementById("play-button-container").classList.add("play-button-container-active"),document.getElementById("keymoment-play").style.display="flex"):(document.getElementById("play-button-container").classList.remove("play-button-container-active"),document.getElementById("keymoment-play").style.display="flex"),u=!0,e.stopPropagation()})),document.getElementById("keymoment-play").addEventListener("animationend",(()=>{document.getElementById("keymoment-play").style.display="none"})),n.addEventListener("volumechange",(e=>{localStorage.setItem("humix-volume",n.volume),n.muted&&localStorage.setItem("humix-volume",0)}));var o=!1;n.addEventListener("playing",(()=>{c&&(c.style.display="none"),o||(d&&(d.style.display="none"),h&&h.classList.add("ez-video-link-inactive"),s&&s.classList.add("vignette-user-inactive"))})),n.addEventListener("pause",(()=>{d&&(d.style.display="block"),h&&h.classList.remove("ez-video-link-inactive"),s&&s.classList.remove("vignette-user-inactive")})),a.addEventListener("mouseover",(()=>{o=!0,d&&(d.style.display="block"),h&&h.classList.remove("ez-video-link-inactive"),s&&s.classList.remove("vignette-user-inactive")})),a.addEventListener("mouseout",(()=>{if(o=!1,n.paused)return d&&(d.style.display="block"),h&&h.classList.remove("ez-video-link-inactive"),void(s&&s.classList.remove("vignette-user-inactive"));d&&(d.style.display="none"),h&&h.classList.add("ez-video-link-inactive"),s&&s.classList.add("vignette-user-inactive")})),s&&s.addEventListener("mouseover",(()=>{d&&(d.style.display="block")})),n.addEventListener("ended",(()=>{d&&(d.style.display="block"),h&&h.classList.remove("ez-video-link-inactive"),s&&s.classList.remove("vignette-user-inactive")})),r&&r.addEventListener("click",(t=>{d&&(d.style.display="none"),h&&h.classList.add("ez-video-link-inactive"),s&&s.classList.add("vignette-user-inactive"),e.getChild("ShareOverlay").open(),document.querySelector(".vjs-modal-dialog-content")})),l&&l.addEventListener("click",(t=>{e.isFullscreen()?e.exitFullscreen():e.requestFullscreen()}));let m=!1;document.addEventListener("keypress",(async e=>{var t=e.key;if(!1===m&&("p"===t&&(document.getElementById("keymoment-play").style.display="flex",!0===n.paused?(document.getElementById("play-button-container").classList.add("play-button-container-active"),n.play()):(document.getElementById("play-button-container").classList.remove("play-button-container-active"),n.pause()),document.getElementById("keymoment-play").addEventListener("animationend",(()=>{document.getElementById("keymoment-play").style.display="none"}))),"t"===t)){let e=document.querySelector(".vjs-theater-mode-button-custom");e&&e.click()}}),!1),document.addEventListener("keydown",(e=>{var t=e.code;u&&!1===m&&("ArrowLeft"===t&&(document.getElementById("keymoment-rewind").style.display="flex",n.currentTime-=5,document.getElementById("keymoment-rewind").addEventListener("animationend",(()=>{document.getElementById("keymoment-rewind").style.display="none"}))),"ArrowRight"===t&&(document.getElementById("keymoment-forward").style.display="flex",n.currentTime+=5,document.getElementById("keymoment-forward").addEventListener("animationend",(()=>{document.getElementById("keymoment-forward").style.display="none"}))))}),!1)}}(e,t),function(e){if("undefined"!=typeof vectx&&"preview"===vectx.embedType){let t=null;window.addEventListener("message",(i=>{if(!Ee.includes(i.origin))return;const o=i.data;if("previewAdBreaks"===o.action){const i=o.adBreaks;if(i&&i.length>0){t&&e.off("timeupdate",t);let o=[];t=()=>{const t=Math.floor(e.currentTime());!i.includes(t)||o.includes(t)||e.paused()||(e.pause(),parent.postMessage({action:"showAdBreak"},"*"),setTimeout((()=>{e.play()}),5e3),o.push(t))},e.on("timeupdate",t)}}else"restartPlayer"===o.action&&(e.currentTime(0),e.play())})),parent.postMessage({action:"previewAdBreakListenerReady"},"*")}}(e),function(){const e=document.getElementById("humix-app-poster");e&&(e.style.display="none")}();const o=e.el().querySelector(".vjs-poster > picture > img");o&&o.setAttribute("alt","video of: "+t.VideoTitle);const a=document.getElementById(`ez-video-wrap-${t.PlayerId}`);if(!a)return void $("["+t.VideoPlaceholderId+"]","No video wrap found for VideoPositionId =",t.VideoPlaceholderId);if(t.MagicPlaceholderType===m&&!t.isPlaylist){const e=a.querySelectorAll(".ez-playlist-vertical");for(let t=0;t<e.length;t++)e[t]?.classList.remove("ez-playlist-vertical")}const s=a.querySelector(".ez-video-content-wrap"),r=a.querySelector(".ez-video-center");if(s&&r){const e=r.classList.contains("ez-playlist-vertical");if(a.querySelector(".lower-title-link")){let t;t=e?Array.from(s.children).reduce(((e,t)=>e+t.offsetWidth),0):i.offsetWidth,r.style.width=`${t}px`}}}(t,e);let o=performance.now()-i;$("["+e.VideoPlaceholderId+"]","Set up Ezoic Video Player for VideoPostionId =",e.VideoPlaceholderId,"in",o,"ms")}))}[554062,649593,551411,546086].includes(window._ezaq?.domain_id)&&history.scrollRestoration?history.scrollRestoration="manual":Re=new He,ezVideoPlayer=t})();} catch(err) {var hREED = function(er) {return function() {reportEzError(er, "/beardeddragon/iguana.js")}}; typeof reportEzError==="function"?hREED(err):window.addEventListener('reportEzErrorDefined',hREED(err), {once: true}); console.error(err);}