try { var ezOutstreamPlayer;(()=>{"use strict";var e={d:(t,i)=>{for(var o in i)e.o(i,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:i[o]})}};e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var t={};function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}function n(e,t,i){return(t=o(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function r(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)}function a(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/BlackBerry/i)||r()||navigator.userAgent.match(/Opera Mini/i)||navigator.userAgent.match(/IEMobile/i)}function s(){let e=new RegExp("(googlebot/|bot|Googlebot-Mobile|Googlebot-Image|Google favicon|Mediapartners-Google|bingbot|slurp|java|wget|curl|Commons-HttpClient|Python-urllib|libwww|httpunit|nutch|phpcrawl|msnbot|jyxobot|FAST-WebCrawler|FAST Enterprise Crawler|biglotron|teoma|convera|seekbot|gigablast|exabot|ngbot|ia_archiver|GingerCrawler|webmon |httrack|webcrawler|grub.org|UsineNouvelleCrawler|antibot|netresearchserver|speedy|fluffy|bibnum.bnf|findlink|msrbot|panscient|yacybot|AISearchBot|IOI|ips-agent|tagoobot|MJ12bot|dotbot|woriobot|yanga|buzzbot|mlbot|yandexbot|purebot|Linguee Bot|Voyager|CyberPatrol|voilabot|baiduspider|citeseerxbot|spbot|twengabot|postrank|turnitinbot|scribdbot|page2rss|sitebot|linkdex|Adidxbot|blekkobot|ezooms|dotbot|Mail.RU_Bot|discobot|heritrix|findthatfile|europarchive.org|NerdByNature.Bot|sistrix crawler|ahrefsbot|Aboundex|domaincrawler|wbsearchbot|summify|ccbot|edisterbot|seznambot|ec2linkfinder|gslfbot|aihitbot|intelium_bot|facebookexternalhit|yeti|RetrevoPageAnalyzer|lb-spider|sogou|lssbot|careerbot|wotbox|wocbot|ichiro|DuckDuckBot|lssrocketcrawler|drupact|webcompanycrawler|acoonbot|openindexspider|gnam gnam spider|web-archive-net.com.bot|backlinkcrawler|coccoc|integromedb|content crawler spider|toplistbot|seokicks-robot|it2media-domain-crawler|ip-web-crawler.com|siteexplorer.info|elisabot|proximic|changedetection|blexbot|arabot|WeSEE:Search|niki-bot|CrystalSemanticsBot|rogerbot|360Spider|psbot|InterfaxScanBot|Lipperhey SEO Service|CC Metadata Scaper|g00g1e.net|GrapeshotCrawler|urlappendbot|brainobot|fr-crawler|binlar|SimpleCrawler|Livelapbot|Twitterbot|cXensebot|smtbot|bnf.fr_bot|A6-Indexer|ADmantX|Facebot|Twitterbot|OrangeBot|memorybot|AdvBot|MegaIndex|SemanticScholarBot|ltx71|nerdybot|xovibot|BUbiNG|Qwantify|archive.org_bot|Applebot|TweetmemeBot|crawler4j|findxbot|SemrushBot|yoozBot|lipperhey|y!j-asr|Domain Re-Animator Bot|AddThis)","i"),t=navigator.userAgent;return!!e.test(t)}e.r(t),e.d(t,{CallNextAdBreak:()=>G,Destroy:()=>U,Init:()=>q,LowerPlayer:()=>$,OutstreamPlayer:()=>N,RaisePlayer:()=>D});const l=1,d=2,c=3,u=4,h=5,m=6;new Blob([new Uint8Array([255,227,24,196,0,0,0,3,72,1,64,0,0,4,132,16,31,227,192,225,76,255,67,12,255,221,27,255,228,97,73,63,255,195,131,69,192,232,223,255,255,207,102,239,255,255,255,101,158,206,70,20,59,255,254,95,70,149,66,4,16,128,0,2,2,32,240,138,255,36,106,183,255,227,24,196,59,11,34,62,80,49,135,40,0,253,29,191,209,200,141,71,7,255,252,152,74,15,130,33,185,6,63,255,252,195,70,203,86,53,15,255,255,247,103,76,121,64,32,47,255,34,227,194,209,138,76,65,77,69,51,46,57,55,170,170,170,170,170,170,170,170,170,170,255,227,24,196,73,13,153,210,100,81,135,56,0,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170])],{type:"audio/mpeg"}),new Blob([new Uint8Array([0,0,0,28,102,116,121,112,105,115,111,109,0,0,2,0,105,115,111,109,105,115,111,50,109,112,52,49,0,0,0,8,102,114,101,101,0,0,2,239,109,100,97,116,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,0,0,2,194,109,111,111,118,0,0,0,108,109,118,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,232,0,0,0,47,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,1,236,116,114,97,107,0,0,0,92,116,107,104,100,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,47,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,36,101,100,116,115,0,0,0,28,101,108,115,116,0,0,0,0,0,0,0,1,0,0,0,47,0,0,0,0,0,1,0,0,0,0,1,100,109,100,105,97,0,0,0,32,109,100,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,172,68,0,0,8,0,85,196,0,0,0,0,0,45,104,100,108,114,0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0,0,0,1,15,109,105,110,102,0,0,0,16,115,109,104,100,0,0,0,0,0,0,0,0,0,0,0,36,100,105,110,102,0,0,0,28,100,114,101,102,0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1,0,0,0,211,115,116,98,108,0,0,0,103,115,116,115,100,0,0,0,0,0,0,0,1,0,0,0,87,109,112,52,97,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,16,0,0,0,0,172,68,0,0,0,0,0,51,101,115,100,115,0,0,0,0,3,128,128,128,34,0,2,0,4,128,128,128,20,64,21,0,0,0,0,1,244,0,0,1,243,249,5,128,128,128,2,18,16,6,128,128,128,1,2,0,0,0,24,115,116,116,115,0,0,0,0,0,0,0,1,0,0,0,2,0,0,4,0,0,0,0,28,115,116,115,99,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,28,115,116,115,122,0,0,0,0,0,0,0,0,0,0,0,2,0,0,1,115,0,0,1,116,0,0,0,20,115,116,99,111,0,0,0,0,0,0,0,1,0,0,0,44,0,0,0,98,117,100,116,97,0,0,0,90,109,101,116,97,0,0,0,0,0,0,0,33,104,100,108,114,0,0,0,0,0,0,0,0,109,100,105,114,97,112,112,108,0,0,0,0,0,0,0,0,0,0,0,0,45,105,108,115,116,0,0,0,37,169,116,111,111,0,0,0,29,100,97,116,97,0,0,0,1,0,0,0,0,76,97,118,102,53,54,46,52,48,46,49,48,49])],{type:"video/mp4"});const p="450px",g=["div","span","p","article","section","aside","main","ul","ol","h1","h2","h3","h4","h5","h6","table"],f=["header","footer","li","form","nav","script","code","pre","picture","figure","video"],y=["ez-CCPA"],w=["header","navbar","top-bar","site-header","main-navigation","footer","site-footer","bottom-bar","footer-nav","footer-widgets","menu","nav-menu","main-menu","dropdown-menu","side-menu"],v=["footer",".footer-nav",".footer-widgets",".site-footer",".footer"];async function b(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=document.createElement("span");function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;!function(){if(window.EzoicMagicPlayerExclusionSelectors)for(var e=0;e<window.EzoicMagicPlayerExclusionSelectors.length;e++)try{for(var t=document.querySelectorAll(window.EzoicMagicPlayerExclusionSelectors[e]),i=0;i<t.length;i++)t[i].setAttribute("data-ezoic-video-excluded","1")}catch(n){x("magic: Invalid selector:",window.EzoicMagicPlayerExclusionSelectors[e],"; Error:",n)}try{t=document.querySelectorAll('[id^="ezoic-pub-ad-placeholder-"], .ezoic-ad.adtester-container');var o=Array.from(t).filter((e=>!e.hasAttribute("data-ezhumixplayerlocation")));for(e=0;e<o.length;e++)o[e].setAttribute("data-ezoic-video-excluded","1")}catch(n){x("magic: Invalid selector when excluding ezoic ads spans, Error:",n)}try{for(t=document.querySelectorAll("[data-ez-ph-id]"),e=0;e<t.length;e++)t[e].setAttribute("data-ezoic-video-excluded","1")}catch(n){x("magic: Invalid selector when excluding ezoic ads elements, Error:",n)}}(),function(){if(window.EzoicMagicPlayerInclusionSelectors)for(var e=0;e<window.EzoicMagicPlayerInclusionSelectors.length;e++)try{for(var t=document.querySelectorAll(window.EzoicMagicPlayerInclusionSelectors[e]),i=0;i<t.length;i++)t[i].setAttribute("data-ezoic-video-included","1")}catch(o){x("magic: Invalid selector:",window.EzoicMagicPlayerInclusionSelectors[e],"; Error:",o)}(t=document.querySelectorAll("[data-ezhumixplayerlocation]")).forEach((e=>{e.setAttribute("data-ezoic-video-included","1")}))}();var t=null,i=9999999999;let o=400;a()&&(o=400);var n=document.querySelectorAll(".ez-video-placeholder-marker, [data-ezhumixplayerlocation]"),r=e||window.EzoicPreferredLocation||1;x("magic: preferredViewports",r=function(e){if("URLSearchParams"in window){return new URLSearchParams(window.location.search).get(e)||null}return null}("ez_magic_viewports")||r);var l=window.innerHeight*r,d=Math.max(document.documentElement.scrollHeight,document.documentElement.offsetHeight,document.body.scrollHeight);l>d&&(x("magic: the document is too short for the preferred height, placing at the end of the document"),l=d-200),x("magic: preferredHeight",l,"window.innerHeight",window.innerHeight,"pageHeight",d,"preferredViewports",r);var c=l-.5*o;let u=function(){let e=document.querySelectorAll('meta[name="robots"]'),t=!1;for(let r=0;r<e.length;r++){let i=e[r].getAttribute("content");if(i&&i.includes("max-image-preview:large")){t=!0;break}}if(!t)return x("does not have large image preview setting enabled"),null;const i=[".entry-header img",".td-post-featured-image img",".article__gallery img","img.wp-post-image",".article__cover img",".gallery__image_picture img",".et_pb_title_featured_container img",".featured-image img","img.featured",".post-thumbnail img",".post-header img",".cover-image img",".hero img",".banner img",".post > img:only-child",".article > img:only-child",".main > img:only-child","header img","figure.wp-block-image img","figure.wp-block-cover img",'img[data-featured="true"]','img[rel="featured"]'],o=2*window.innerHeight;let n=[];if(i.forEach((e=>{const t=document.querySelectorAll(e);n=n.concat(Array.from(t))})),n=[...new Set(n)],0===n.length)return x("no images found in the query"),null;if(n=n.filter((e=>{const t=e.getBoundingClientRect(),i=window.pageYOffset||document.documentElement.scrollTop||0,n=t.top+i;if(n>o)return x("filtered out img: ",e,` imageTopPosition: ${n}, positionThreshold: ${o}`),!1;const r=e.naturalWidth/e.naturalHeight;return t.width>200&&t.height>180&&r>.5&&!e.classList.contains("avatar")&&!e.classList.contains("icon")&&!e.closest(".thumbnails, .sidebar, .footer")})),0===n.length)return console.log("no suitable images after filtering"),null;return n.sort(((e,t)=>{const i=e.getBoundingClientRect(),o=t.getBoundingClientRect();return i.top+i.left-(o.top+o.left)})),n[0]}();if(u){let e=u.getBoundingClientRect(),t=Math.max(c,e.bottom+window.scrollY),i=Math.round(t-c),o=Math.round(c);window._ezaq&&window.__ez&&window.__ez.bit&&__ez.bit.Add(_ezaq.page_view_id,[new __ezDotData("delta_target_hmx_feat_img",i),new __ezDotData("old_target_hmx_feat_img",o)]),x("featured image identified was",u,`old target position: ${c}. new: ${t}`),c=t}else x("no featured image on the page",u);var h=l+o*(1+r),[t,i]=s(n,t,i,c);if(!t||i>h)var[t,i]=s(document.querySelectorAll("body *"),t,i,c);else x("magic: Found publisher placeholder that is good enough");return x("magic: found location. Will be placed at: element",t,"which has top position of:",i,"and needs to be below:",c),t}function n(e,t){let i=t.querySelectorAll("*").length,o=r(t,i,[]);if(0==o.length)return e;for(var n=[],a=0;a<o.length;a++){for(var s=!1,l=0;l<o.length;l++)if(a!=l&&o[a].contains(o[l])){s=!0;break}s||n.push(o[a])}var d=null;for(a=0;a<n.length;a++){var c=n[a].getBoundingClientRect();c.width>e&&(e=c.width,d=n[a])}return x("magic: content width is",e,d),e}function r(e,t,i){var o=e.querySelectorAll("*"),n=e.children,a=e.getBoundingClientRect();if(o.length>.33*t&&a.top<500&&!b(e)&&!m(e)){i.push(e);for(var s=0;s<n.length;s++)r(n[s],t,i)}return i}function s(e,t,i,o){let r=.4,s=450,p=400;a()&&(r=.7,s=384,p=250);const g=window.innerWidth;var f=n(0,document.body);x("magic: content width is ",f,"viewportWidth is ",g,"thresholdWidthMinPixels is ",p),f<p&&(x("magic: content width changed to viewport width"),f=g),x("getting min threshold width: ",r*g,s,.66*f);var y=Math.min(r*g,s,.66*f);y<p&&(y=p),x("magic: Finding element below fold with width! (pizza) >= "+y+"px and fold position >= "+o+"px");let w=1/0,z=null;if(window.__ez&&window.__ez.tf&&window.__ez.tf.vidAbvFoot){document.querySelectorAll(v.join(",")).forEach((e=>{let t=e.getBoundingClientRect();t.top<w&&(z=e,w=t.top)})),x(`magic: footer is ${z} with top ${w}. player must be above it.`)}for(const n of e){const e=n.getBoundingClientRect();(n.hasAttribute("data-ezhumixplayerlocation")||n.classList.contains("ez-video-placeholder-marker"))&&(e.width=y);let r=e.top<w;e.top>=o&&e.width>=y&&e.top<i&&h(n)&&!b(n)&&!u(n)&&!c(n)&&!m(n)&&l(n,o)&&!d(n)&&r&&(i=e.top,t=n)}return[t,i]}function l(e,t){for(const i of e.children){const e=i.getBoundingClientRect();if(!(0==e.width||0==e.height)&&e.top<t-100)return x("magic: dissalowed because child top: "+e.top+" < targetPosition-100: "+t),!1}return!0}function d(e){for(;e;){const t=window.getComputedStyle(e);if(parseInt(t.height)>450)return!1;if("none"!==t.backgroundImage)return!0;e=e.parentElement}return!1}function c(e){var t=e.getBoundingClientRect(),i=e.previousElementSibling;if(i){var o=i.getBoundingClientRect();if(t.top<o.bottom-30)return x("magic: dissalowed because element is overlapping: "+e),!0}return!1}function u(e){if(e.hasAttribute("data-ezoic-video-included")||e.classList.contains("ez-video-placeholder-marker"))return!1;let t=!window.EzoicMagicPlayerInclusionSelectors||0===window.EzoicMagicPlayerInclusionSelectors.length;for(;e;){if(y.includes(e.id))return!0;if(!e.hasAttribute("data-ezoic-video-included")&&f.includes(e.tagName.toLowerCase())||e.hasAttribute("data-ezoic-video-excluded"))return!0;t=t||e.hasAttribute("data-ezoic-video-included");for(var i=0;i<w.length;i++)if(e.classList.contains(w[i]))return x("magic: dissalowed because element has disallowed class: "+e),!0;e=e.parentElement}return!t}function h(e){return!!g.includes(e.tagName.toLowerCase())}function m(e){for(;e;){var t=window.getComputedStyle(e);if(("fixed"===t.position||"sticky"===t.position||"absolute"===t.position)&&!e.hasAttribute("data-ezoic-video-included"))return x("magic: dissalowed because element is floating: "+e+" classes: "+e.classList),!0;e=e.parentElement}return!1}function b(e){var t=!(e.offsetWidth||e.offsetHeight||e.getClientRects().length);return t&&x("magic: dissalowed because element is invisible: "+e),t}function z(){const n=o(t);if(n&&n.parentNode){var r=!1;let t=window.getComputedStyle(n.parentNode),o=window.getComputedStyle(n);"grid"===t.display&&(r=!0,i.style="grid-column: 1/-1;"),(r=r||"grid"===t.display||"flex"===t.display)&&(x(`setting the order of the player's insert span to ${o.order}`),i.style.order=o.order),e instanceof Node?i.appendChild(e):i.innerHTML=e,n.parentNode.insertBefore(i,n);let a=function(e){if(!(e instanceof Element))throw new Error("Invalid input: not a DOM element");let t=e;for(;t.parentElement;){const i=t.parentElement;if(i.clientHeight<e.clientHeight){if("0px"!=window.getComputedStyle(i).height)return i}t=i}return null}(i);if(null!=a){if("0px"!=window.getComputedStyle(a).height){const e=5;x("magic: setting min height for ancestor element so that player doesn't overflow:",a),a.style.minHeight=e+a.scrollHeight+"px",_()&&(a.dataset.hmxplayer="added override to min height so that that the player won't overflow")}}return function(e){if(!e.hasAttribute("data-ezhumixplayerlocation"))return;for(;e.firstChild;)e.removeChild(e.firstChild);const t=e.id.match(/\d+$/)[0];document.querySelectorAll(`[data-ez-ph-id="${t}"]`).forEach((e=>{e.remove()}))}(n),function(e){if(!e.hasAttribute("data-ezhumixplayerlocation"))return;const t=e.parentElement;t.classList.contains("adslot")&&(t.classList.remove("adslot"),t.removeAttribute("id"))}(n),x("magic: Magic JS inserter placed magic player below fold",n),n.offsetWidth?parseInt(n.offsetWidth):parseInt(p)}if(!window.EzoicMagicPlayerInclusionSelectors||0===window.EzoicMagicPlayerInclusionSelectors.length){let t=!1;for(let e=0;e<v.length;e++){if(document.body.querySelector(v)){t=!0;break}}var s=window.EzoicPreferredLocation||1;if(!t&&1==s){let t=400;return a()&&(t=400),window.innerHeight-.5*t<Math.max(document.documentElement.scrollHeight,document.documentElement.offsetHeight,document.body.scrollHeight)&&(e instanceof Node?i.appendChild(e):i.innerHTML=e,x("magic: inserting to the end of the body, since there are no other good candidates"),document.body.appendChild(i)),document.body.offsetWidth?parseInt(document.body.offsetWidth):parseInt(p)}return x("magic: Magic JS inserter couldn't find a good element to insert into"),!1}}i.className="humix-universal-js-insert",i.style="display: block;padding:30px 0px;text-align:center;margin:0 auto;max-width:calc(min(768px, 100%))";let P=!1;var A;return P=z(),P||(await(A=300,new Promise((e=>setTimeout(e,A)))),x("magic: trying to place below fold again"),P=z()),P}async function z(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;for(var i=document.querySelectorAll('[id^="humix-vid-"]'),o=0;o<i.length;o++)for(var n=i[o].querySelectorAll("script"),r=0;r<n.length;r++)if(n[r].src.includes("humix.com"))return x("magic: found humix embed, not inserting magic player"),!1;x("Attempting to insert magic player",document.readyState);var s=await b(e,t);if(!!!s){let t=function(){let e=Array.from(document.querySelectorAll("span, div")).filter((e=>{const t=e.classList,i=e.id;return!(t.contains("under_page_title")||t.contains("top_of_page")||t.contains("sidebar")||t.contains("bottom_floating"))&&(t.contains("ezoic-autoinsert-video")||i.startsWith("ezoic-pub-video-placeholder-"))&&(!e.nextElementSibling||!e.nextElementSibling.id.startsWith("ez-video-wrap-"))}));return e.sort(((e,t)=>e.getBoundingClientRect().top-t.getBoundingClientRect().top)),e}();if(0==t.length)return x("No valid video nodes found for magic player, not inserting"),!1;x("Default inserting magic player into",t[0]),t[0].insertAdjacentHTML("afterend",e)}let l=parseInt(p);return l>s&&a()&&(l=s),Array.prototype.slice.call(document.querySelectorAll(".humix-universal-js-insert > .ez-video-wrap > .ez-video-center")).forEach((function(e){e.classList.contains("ez-playlist-vertical")||(e.style.maxWidth=l+"px")})),!0}function _(){return"1"===new URLSearchParams(window.location.search).get("ez_vid_autoinsert_debug")}function x(){if(_()){let e=Array.from(arguments);e.unshift("[Video Player]"),console.log.apply(console,e)}}function P(){if("1"===new URLSearchParams(window.location.search).get("ez_vid_debug")){let e=Array.from(arguments);e.unshift("[Video Player]"),console.log.apply(console,e)}}function A(e){return e&&"function"===typeof e.replaceAll?e.replaceAll('"','"'):e}window.hasEzChromeExtListener||(window.addEventListener("message",(e=>{if(e.origin!==window.location.origin)return;const t=e.data;"insertHTMLBelowFold"===t.action&&z(t.html,t.viewport)})),window.hasEzChromeExtListener=!0);const O=new EventTarget,E=new MutationObserver((e=>{const t=e.map((e=>e.target)).find((e=>"ins"===e.tagName?.toLowerCase()&&e.hasAttribute("data-anchor-status")));t&&(E.disconnect(),k(),new MutationObserver(k).observe(t,{attributes:!0,attributeFilter:["style"]}))}));function k(){O.dispatchEvent(new CustomEvent("anchor-update"))}function S(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ezmob-footer";const t=document.getElementsByClassName(e);if(t.length)return Math.max(...Array.from(t).map((e=>e.scrollHeight)));{let e=document.querySelector('[data-anchor-status="displayed"]',".ezfound",".adsbygoogle");return e?"bottom"===window.gamAnchorPosition?e.clientHeight+(parseFloat(window.getComputedStyle(e).bottom)||0)+15:Math.max(e.scrollHeight,e.clientHeight,e.offsetHeight):0}}function B(){const e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?window.__ezOutstream:window.__ezInstream;if("undefined"===typeof e||"undefined"===typeof e.monetizationApproval)return!1;return e.monetizationApproval.MCMApproved}function C(){const e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?window.__ezOutstream:window.__ezInstream;if("undefined"===typeof e||"undefined"===typeof e.monetizationApproval)return!1;const t=e.monetizationApproval;return t.HDMApproved||t.HasGoogleEntry}function I(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=t.isWideTop||!1,o=t.applyToFixedOnly||!1,n=t.buffer||2;if(!a()&&!i&&!o)return 0;const r=window.getComputedStyle(e);if(o&&"fixed"!==r.position)return 0;let s=0;const l=document.getElementsByTagName("header");l.length>0&&(s=Math.max(s,l[0].clientHeight));const d=document.getElementsByTagName("nav");return d.length>0&&(s=Math.max(s,d[0].clientHeight)),s>=120&&(s=0),s>0&&e.style.setProperty("top",`${s+n}px`,"important"),s}E.observe(document,{attributes:!0,attributeFilter:["data-anchor-status"],subtree:!0});const L=["AT","BE","BG","CH","CY","CZ","DE","DK","EE","ES","FI","FR","GB","GF","GI","GP","GR","HR","HU","IC","IE","IS","IT","JE","LI","LT","LU","LV","MC","MF","MQ","MT","NL","NO","PL","PT","RE","RO","SE","SI","SK","SM","VA","YT"];function j(){return new Promise((t=>{(e=>{const i=e("ez-video-outstream",{autoplay:!1,muted:!0,suppressNotSupportedError:s(),fluid:!0,resizeManager:!0,children:["mediaLoader","controlBar"],controlBar:{pictureInPictureToggle:!0,skipButtons:!1,skipForward:!1,skipBackward:!1,liveDisplay:!1,seekToLive:!1,liveTracker:!1,customControlSpacer:!1,chaptersButton:!1,descriptionsButton:!1,audioTrackButton:!1}}),o=document.createElement("div");o.setAttribute("id","ez-video-ad-container-outstream"),i.el().appendChild(o),t(i)})(e.g.videojs)}))}var T=!1;function R(){const e=new URLSearchParams(window.location.search);if(T||"1"===e.get("ez_outstream_debug")){T=!0;for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];console.log("%c[outstream-player]","color: #00A300",...i)}}function H(e){if(!e||e.isEmpty)return;let t;if(googletag.pubads().getSlots().forEach((e=>{e.getSlotElementId().includes("pixel3")&&(t=e)})),t){if(e.slot===t){e.slot.getHtml().includes("sm1.selectmedia.asia")&&(dispatchEvent(new Event("CloseOutstreamPlayer")),dispatchEvent(new Event("DisableInstreamFloating")),googletag.pubads().removeEventListener("slotOnload",H))}}else googletag.pubads().removeEventListener("slotOnload",H)}class M{constructor(e,t,i,o){n(this,"bidIndex",null),n(this,"currentAdBreak",void 0),n(this,"adRenderer",void 0),n(this,"analyticsPlayer",void 0),n(this,"videoObject",void 0),n(this,"slot",void 0),n(this,"numUnfilled",0),n(this,"maxUnfilled",5),n(this,"floors",[{floor:1,hash:"a495ce7dbb4cefcd3e0a722048894f41"},{floor:.6,hash:"c352ba581bd3ffd8cea608cf2d55f519"},{floor:.1,hash:"291d27313eb66c50243129b23df8a579"},{floor:.04,hash:"9c3e4ee8eae7f1433cb2fe69b1326605"},{floor:.02,hash:"b6c98a8bb15764f1c4ee331dcb724178"}]),this.adRenderer=t,this.analyticsPlayer=i,this.videoObject=o,this.slot=e,this.slotRenderHandler=this.slotRenderHandler.bind(this)}init(){return new Promise((e=>{window.googletag=window.googletag||{cmd:[]},googletag.cmd.push((()=>{this.slot=window.ezslot_outstream,googletag.pubads().addEventListener("slotRenderEnded",this.slotRenderHandler),googletag.display(this.slot),e()}))}))}slotRenderHandler(e){e.slot===this.slot&&this.currentAdBreak&&(R(`gpt: floor=${this.getBidFloor()}`),e.isEmpty||R("gpt: slotRenderHandler event",e),!e.isEmpty&&e.vast?this.handleAdFilled(e):this.handleAdNotFilled())}handleAdFilled(e){R("gpt: ad filled. rendering ad"),this.currentAdBreak.vastXML=e.vast,this.bidIndex=null,this.numUnfilled=0,this.adRenderer.handleRenderAdEvent({AdBreak:this.currentAdBreak})}handleAdNotFilled(){R("gpt: ad not filled."),this.bidIndex++,this.currentAdBreak.retryCount++,this.bidIndex>=this.floors.length||0===this.getBidFloor()?(this.numUnfilled++,this.numUnfilled<this.maxUnfilled?(this.sendUnfilledEvent(),G()):this.destroySlot()):this.requestAd(this.currentAdBreak)}getBidFloor(){return this.floors[this.bidIndex]?.floor||0}processAdBreak(e){e.vastURL&&(R("gpt: processing ad break",e),this.bidIndex=0,this.currentAdBreak=e,this.floors=e.videoFallbackFloors.map(((t,i)=>({floor:t,hash:e.videoFallbackHashes[i]}))),this.requestAd())}requestAd(){this.slot.clearTargeting();const e=new URL(this.currentAdBreak.vastURL).searchParams.get("cust_params");for(const[i,o]of new URLSearchParams(e).entries())i.includes("amzn")||i.includes("hb_")||this.slot.setTargeting(i,o);const t=this.floors[this.bidIndex].hash;this.slot.setTargeting("eb_br",t),googletag.pubads().refresh([this.slot])}getClosestBidFloorIndex(){const e=this.currentAdBreak.videoAdBidFloor;console.log();const t=this.floors.reduce(((t,i)=>Math.abs(i-e)<Math.abs(t-e)?i:t));return this.currentAdBreak.videoFallbackFloors.indexOf(t)}destroySlot(){R("gpt: destroying slot"),__ezOutstream.fallbackToGPT=!1,googletag.pubads().removeEventListener("slotRenderEnded",this.slotRenderHandler),googletag.destroySlots([this.slot]),window.ezslot_outstream=void 0}sendUnfilledEvent(){this.adRenderer.currentAdBreak=this.currentAdBreak;this.analyticsPlayer.attachAdAnalytics(this.videoObject.AdUnit,void 0,this.videoObject,!1).videoAdEventHandler.sendUnfilledVadPixel(this.currentAdBreak,"gpt outstream ad did not fill")}}const V="floatingPlayerShow",F="floatingPlayerHide";class N{constructor(e){n(this,"videoObject",void 0),n(this,"player",void 0),n(this,"sideRailLoaded",!1),n(this,"leftSideRailLoaded",!1),n(this,"requestBreaksPromise",null),n(this,"cachedViewportHeight",null),n(this,"viewportHeightLastCheckedTime",0),n(this,"heightCheckThreshold",200),n(this,"minReasonableViewportHeight",300),this.videoObject=e}async init(){R("Init called. Video Object: ",this.videoObject),window.__ez?.ce&&(window.performance?.timeOrigin?__ez.ce.AddPageviewEvent("outstream_js_start",Math.floor(Date.now()-window.performance.timeOrigin)):window.performance&&window.performance.timing&&window.performance.timing.navigationStart&&__ez.ce.AddPageviewEvent("outstream_js_start",Date.now()-window.performance.timing.navigationStart)),"undefined"!=typeof googletag&&"function"==typeof googletag.pubads&&"function"==typeof googletag.pubads().getSlots&&googletag.pubads().addEventListener("slotOnload",H),addEventListener("RightSideRailLoaded",(()=>this.sideRailLoaded=!0)),addEventListener("RightSideRailUnloaded",(()=>this.sideRailLoaded=!1)),addEventListener("LeftSideRailLoaded",(()=>this.leftSideRailLoaded=!0)),addEventListener("LeftSideRailUnloaded",(()=>this.leftSideRailLoaded=!1)),await this.handleCnxPlayer(),R("Rendering outstream player");await new Promise((async e=>{const t=L.includes(window._ezaq?.country);if(!window.__tcfapi&&t&&await new Promise((e=>setTimeout(e,1e3))),!window.__tcfapi)return P("consent: not enabled"),void e(!0);P("consent: enabled, waiting for event"),__tcfapi("addEventListener",2,((t,i)=>{if(!i)return P("consent: event failed"),void e(!1);if(!t.gdprApplies)return P("consent: gdpr does not apply"),void e(!0);if(["useractioncomplete","tcloaded"].includes(t.eventStatus)){const i=t.purpose.consents[1],o=t.vendor.consents[755];i&&o?(P("consent: accepted"),e(!0)):(P("consent: rejected"),e(!1))}}))}))?(R("consent check passed, requesting player ads"),this.setupPlayerEl(this.videoObject),await this.buildOutstreamPlayer()):R("consent check failed, not requesting player ads")}async handleCnxPlayer(){let e=window.__cnxau&&window.ezVideoAdConductor?10:0;await new Promise((t=>setTimeout(t,1e3*e))),R(`checking for existing instream players - ${e} sec delay`);let t=Array.from(document.getElementsByTagName("vdo")),i=Array.from(document.getElementsByClassName("cnx-ad-bid-slot-selected")).length>0||t.length>0;if(t.length>0||window.__ezcnxPlayer&&i)return R("cnx/vdo/SelectMediaPlayer instream players exist on page - removing outstream css and returning"),void document.getElementById("ezoic-outstream-css")?.remove();this.videoObject.cnx_backfill=!1,window.__ezcnxPlayer&&!i&&(R(`connatix is rendered, but no ad has been filled after a timeout period of: ${e}s , removing connatix and replacing with ezoic outstream`),window.__ezcnxPlayer.destroy(),this.videoObject.cnx_backfill=!0)}getPlayerWidth(){if(window.__ezOutstream?.hasOwnProperty("OutstreamPlayerWidth")&&""!==__ezOutstream.OutstreamPlayerWidth){if("responsive"===__ezOutstream.OutstreamPlayerWidth)return 0;{const e=parseInt(__ezOutstream.OutstreamPlayerWidth);return isNaN(e)||e<=0?140:e}}return 256}getPlayerMinWidth(){if(!__ezOutstream)return 0;if(__ezOutstream?.vatc?.mpw){const e=parseInt(__ezOutstream.vatc.mpw);if(!isNaN(e))return e}return 0}isPlayerResponsive(){return"responsive"===window.__ezOutstream?.OutstreamPlayerWidth}setupPlayerEl(){let e=document.getElementById("ezoic-pub-outstream-placeholder"),t=[2,3].includes(window._ezaq?.form_factor_id)||["2","3"].includes(window.ezoFormfactor)?"playsinline":"",i=this.getPlayerWidth(),o=this.getPlayerMinWidth(),n=this.isPlayerResponsive()?"ez-responsive":"",r=this.isWideTopTest(),a=r?"ez-float-wide-top":"";r&&(this.videoObject.IsRoundedPlayer=!1);let s=i>0?`max-width: ${i}px !important;`:"",l="";if(o>0&&!r){let e="width: 25% !important;";2===_ezaq?.form_factor_id&&(e="width: 50% !important;"),i>0&&(e=`width: ${i}px !important;`,s=""),l=`min-width: ${o}px !important; width: 40% !important; ${e} max-width: 256px !important;`}let d="";r&&(s="max-width: 100% !important;",d="width: 100% !important;");let c="-20px",u="0px";"over"===window.__ezOutstream?.OutstreamClose&&(c="2px",u="2px");const h=function(){const e=document.createElement("canvas");return e.width=1,e.height=1,e.getContext("2d").clearRect(0,0,e.width,e.height),e.toDataURL("image/png")}();let m=`\n      <div id="ez-video-outstream-wrap" class="ez-video-wrap ez-wrap-float-only ${this.videoObject.IsRoundedPlayer?"ez-rounded-border":""}" style="align-self: stretch; ">\n          <div style="max-width:${r?"100%":"480px"};" class="ez-video-center">\n              <div id="floating-placeholder" class="floating-placeholder" style="display: none;">\n                  <div id="floating-placeholder-sizer" class="floating-placeholder-sizer"></div>\n              </div>\n              <div id="ez-video-container" class="ez-video-container ${this.videoObject.IsMagicEmbed?"":"ez-stuck"} ez-outstream-container ${n} ${a}" style="pointer-events: none; visibility: hidden !important; ${s} ${l} ${d}">\n                  ${r?`\n                  <div id="ez-o-ez-wide-top-wrapper" style="display: flex; justify-content: space-between; align-items: center; width: 100%;">\n                      <div class="ez-video-ez-stuck-bar ez-video-left-section" id="ez-video-ez-stuck-bar-ez-o">\n                        <div class="ez-video-ez-stuck-close ez-simple-close" id="ez-outstream-ez-stuck-close" style="font-size: 16px !important; text-shadow: none !important; color: #555555 !important; font-family: system-ui !important; background-color: rgba(255,255,255,0.5) !important; border-radius: 50% !important; text-align: center !important; border: 0.3px solid #555555 !important">\n                          x\n                        </div>\n                        <div class="ez-video-ez-stuck-title" id="ez-o-ez-video-ez-stuck-title">\n\n                        </div>\n                      </div>\n                      <div id="ez-title-display" style="margin-left: 10px; margin-top: 10px; font-family: system-ui !important; font-size: 12px; color: #000; max-width: 200px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; display: none;"></div>\n                      <div id="ez-video-inner-container" class="ez-video-right-section" style="max-width: 50% !important; height: auto !important; width: 100% !important;">\n                          <video\n                              id="ez-video-outstream"\n                              class="video-js vjs-ad-only vjs-tech ez-vid-placeholder"\n                              ${t}\n                              muted\n                              controls\n                              preload="none"\n                              poster="${h}"\n                          >\n                              <p class="vjs-no-js">Please enable JavaScript</p>\n                          </video>\n                      </div>\n                      <div id="ez-o-section-spacer" style="display: none !important;"></div>\n                  </div>\n                  `:`\n                  <div class="ez-outstream-ez-stuck-close" id="ez-outstream-ez-stuck-close" style="font-size: 11px !important; font-weight: 500; text-shadow: none !important; color: #000 !important; top: ${c} !important; font-family: system-ui !important; background-color: rgba(255,255,255,0.5) !important; border-radius: 50% !important; width: 16px !important; text-align: center !important; height: 16px !important; line-height: 16px !important; display: block !important; left: ${u} !important;">\n                      X\n                  </div>\n                  <video\n                      id="ez-video-outstream"\n                      class="video-js vjs-ad-only vjs-tech ez-vid-placeholder"\n                      ${t}\n                      muted\n                      controls\n                      preload="none"\n                      poster="${h}"\n                  >\n                      <p class="vjs-no-js">Please enable JavaScript</p>\n                  </video>\n                  `}\n              </div>\n          </div>\n      </div>\n    `;try{__ezOutstream.UseGPTOutstream&&document.body.prepend(e),e.insertAdjacentHTML("afterend",m),R("player inserted")}catch(p){R("could not insert player element")}}async buildOutstreamPlayer(){this.player=await j(),this.player.getNextOutstreamBreak=this.getNextAdBreak.bind(this),this.videoObject.playOutstream=!0,this.player.isClosing=!1,document.getElementById("ez-outstream-ez-stuck-close").addEventListener("click",(()=>this.closeOutstreamPlayer())),this.player.closeOutstreamPlayer=this.closeOutstreamPlayer.bind(this),window.ezVideoAdConductor?.getVideoAdConductor()?.setOutstreamPlayer(this.player),this.player.on(F,(()=>this.lowerPlayer())),this.player.on(V,(()=>this.raisePlayer())),addEventListener("CloseOutstreamPlayer",(()=>this.closeOutstreamPlayer()));let e=document.createElement("div");var t;e.setAttribute("id",`ez-video-ad-container-${this.videoObject.PlayerId}`),this.player.el().appendChild(e),this.setPlayerFloatPositionStyling(),t=()=>this.setPlayerFloatPositionStyling(),O.addEventListener("anchor-update",t),function(){let e=Array.from(document.querySelectorAll("body *"),(e=>parseFloat(window.getComputedStyle(e).zIndex))).filter((e=>!Number.isNaN(e)));if(0===e.length)return;let t=Math.max(Math.max(...e)+1,999),i=document.querySelector(".ez-video-container.ez-stuck");i&&i.style.setProperty("z-index",t.toString())}(),await this.initializeVideoAds(this.player,this.videoObject)}closeOutstreamPlayer(){this.getEzVidContainer().classList.add("ez-player-closed"),this.getOutstreamWrapper().style.display="none",this.videoObject.playOutstream=!1,__ez.vhb.biddingComplete(this.videoObject.PlayerId),this.player.isClosing=!0,this.player.adRenderer.pauseAd(),this.player.trigger("ezoPlayerClosed")}async initializeVideoAds(){if(!function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!B(e)&&!C(e))return!1;try{google.ima}catch(t){return P("google.ima not found, ads will not load"),!1}return!!__ez.vhb||(P("ez.vhb not found, ads will not load"),!1)}(!0))return!1;R("initializing outstream video ads");let e={autoplay_allowed:!1,autoplay_allowed_muted:!0};!function(e,t,i,o){let n=!1,r=!1;i&&(n=i.autoplay_allowed,r=i.autoplay_allowed_muted),e.video_position_id=t.VideoPlaceholderId,e.is_autoplay=t.IsAutoPlay&&(n||r),e.is_floating=t.IsFloating,e.player_id=t.PlayerId,e.ads_enabled=t.AdsEnabled,e.play_outstream=t.playOutstream,"undefined"===typeof o?(e.ezVideoId=t.VideoContentId,e.title=A(t.VideoTitle),e.video_length=t.VideoDurationMs):(e.ezVideoId=o.VideoContentId,e.title=A(o.Title),e.video_length=o.VideoDurationMs)}(this.player,this.videoObject,e);let t=window.ezVideoAnalytics.NewAnalyticsPlayer("ezvideojs",this.videoObject,this.player),i=window.ezVideo?.language||"en",o=window.ezVideoAnalytics.NewVideoAdInitializer(t,this.videoObject,i,e);if(!o.adDisplayContainer_)return;let n=__ez.vhb.getBreaks(this.videoObject.PlayerId,this.videoObject.VideoContentId);R("get ad breaks from vhb -- length: "+n.length);let r=t.attachAdRendering({adUnit:this.videoObject.AdUnit,adBreaks:n,adInitializer:o,isPlayList:!1,videoObject:this.videoObject,browserPermissions:e});this.player.adRenderer=r,await r.initialize(),r.enableOutstream(),r.onAdStarted((async()=>{const e=await this.getNextAdBreak(!1);e&&__ez.vhb.doAuction(e,!1)})),__ezOutstream.UseGPTOutstream?function(e,t,i){const o=new M(window.ezslot_outstream,e,t,i);return window.__ezOutstream.processGptAdBreak=o.processAdBreak.bind(o),o.init()}(r,t,this.videoObject).then((()=>this.callNextAdBreak(!0,!0))):await this.callNextAdBreak(!0,!0)}getEzVidContainer(){return document.getElementById("ezoic-pub-outstream-placeholder").nextElementSibling.querySelector(".ez-video-container")}getOutstreamWrapper(){return document.getElementById("ez-video-outstream-wrap")}lowerPlayer(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];R("lowering player");let t=this.getEzVidContainer();t.classList.remove("ez-floating"),"none"!==this.getOutstreamWrapper().style.display&&(this.videoObject.FloatPosition===c||this.videoObject.FloatPosition===u?(this.videoObject.FloatPosition===u&&(t.style.transform="translateX(-100%)"),t.classList.remove("raise-horizontal"),t.classList.add("lower-horizontal")):(t.classList.remove("raise"),t.classList.add("lower")),t.style.visibility="hidden",t.style.pointerEvents="none"),e&&this.callNextAdBreak()}raisePlayer(){R("raising player"),this.setPlayerFloatPositionStyling();let e=this.getEzVidContainer();e.classList.add("ez-floating");let t=this.getOutstreamWrapper();"none"===t.style.display&&t.style.removeProperty("display"),this.delayClose(),this.isWideTopTest()&&this.checkWideTopTitle(),"none"!==t.style.display&&(this.videoObject.FloatPosition===c||this.videoObject.FloatPosition===u?(this.videoObject.FloatPosition===u&&(e.style.transform="translateX(-100%)"),e.classList.add("raise-horizontal"),e.classList.remove("lower-horizontal")):(e.classList.remove("lower"),e.classList.add("raise")),this.sideRailLoaded?e.style.right="200px":e.style.right="20px",!this.leftSideRailLoaded||this.videoObject.FloatPosition!==d&&this.videoObject.FloatPosition!==u||(e.style.left="200px"),e.style.visibility="visible",e.style.removeProperty("pointer-events"))}async getNextAdBreak(e){return this.requestBreaksPromise||=(async()=>{let t=__ez.vhb.getIncompleteBreaks(this.videoObject.PlayerId,this.videoObject.VideoContentId);if(!t.length){const i=this.videoObject.hasOwnProperty("FloatPosition")?this.videoObject.FloatPosition:null;t=await __ez.vhb.requestBreaks(this.videoObject.PlayerId,this.videoObject.VideoContentId,this.videoObject.AdsEnabled,this.videoObject.VideoPlaceholderId,0,!0,!0,null,e,!1,i);const o=this.player?.adRenderer;o&&"function"===typeof o.concatAdBreaks&&o.concatAdBreaks(t),t.forEach((e=>{this.videoObject.hasOwnProperty("cnx_backfill")&&(e.cnx_backfill=this.videoObject.cnx_backfill),this.videoObject.hasOwnProperty("AdUnit")&&(e.adUnit=this.videoObject.AdUnit)}))}return t[0]})().finally((()=>this.requestBreaksPromise=null))}async callNextAdBreak(){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(__ez.vhb.getBiddingInProcess(this.videoObject.PlayerId))return;let t=1;if("mod231"===window._ezaq?.ab_test_id&&(t=2),__ezOutstream.UnfilledCnt>=5*t){if(R("Outstream Player reached maxed unfilled count, returning"),!__ezOutstream.UseGPTOutstream)return;__ezOutstream.fallbackToGPT=!0}if(this.videoObject.hasOwnProperty("playOutstream")&&!this.videoObject.playOutstream)return void R("Outstream Player is closed, not requesting anymore breaks/bids, returning");let i=await this.getNextAdBreak(e);i?((C(!0)||this.onlyUseVastProxy())&&await function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e5;return new Promise(((t,i)=>{if(!0===window?.__ez?.fads?.adLoadHB?.loaded)return t(!0);const o=Date.now(),n=setInterval((()=>!0===window?.__ez?.fads?.adLoadHB?.loaded?(clearInterval(n),t(!0)):Date.now()-o>e?(clearInterval(n),i(new Error("Timeout waiting for __ez.fads.adLoadHB.loaded"))):void 0),100)}))}(),__ez.vhb.bid(i,!1)):R("no break found, returning")}getReliableViewportHeight(){let e=0;return window.visualViewport&&window.visualViewport.height>0?e=window.visualViewport.height:document.documentElement&&document.documentElement.clientHeight>0?e=document.documentElement.clientHeight:window.innerHeight>0&&(e=window.innerHeight),e<this.minReasonableViewportHeight&&(e=this.cachedViewportHeight&&this.cachedViewportHeight>=this.minReasonableViewportHeight?this.cachedViewportHeight:this.minReasonableViewportHeight),e}setPlayerFloatPositionStyling(){if(!this.videoObject?.FloatPosition)return;let e=document.getElementsByClassName("ez-outstream-container");if(!e.length)return;let t=e[0],i=0;window.__ezOutstream?.ocaac&&"string"===typeof window.__ezOutstream.ocaac&&(i=S(window.__ezOutstream.ocaac)),0===i&&(i=S()),t.style.marginBottom="0";const o=Date.now();(!this.cachedViewportHeight||o-this.viewportHeightLastCheckedTime>this.heightCheckThreshold)&&(this.cachedViewportHeight=this.getReliableViewportHeight(),this.viewportHeightLastCheckedTime=o);if((i+(t.clientHeight||225))/this.cachedViewportHeight>.65&&1!==_ezaq?.form_factor_id)this.isWideTopTest()||(t.style.setProperty("max-width","140px","important"),t.style.setProperty("min-width","140px","important"));else{const e=this.isWideTopTest()?"100%":"256px";t.style.setProperty("max-width",e,"important");const i=this.getPlayerMinWidth();i>0?t.style.setProperty("min-width",`${i}px`,"important"):t.style.setProperty("min-width","140px","important")}switch(this.videoObject.FloatPosition){case l:t.style.bottom=i+15+"px",t.style.right="20px";break;case d:t.style.bottom=i+15+"px",t.style.left="20px";break;case c:this.isWideTopTest()?I(t,{isWideTop:!0}):(t.style.top="40px",t.style.bottom="unset",t.style.right="20px",I(t));break;case u:this.isWideTopTest()?I(t,{isWideTop:!0}):(t.style.top="40px",t.style.bottom="unset",t.style.left="20px",I(t));break;case h:t.classList.add("ez-float-center"),t.style.bottom=i+15+"px",t.style.right="20px";break;case m:I(t,{isWideTop:!0});break;default:t.style.bottom=i+15+"px",t.style.right="20px"}}delayClose(){if(__ez?.tf?.vaodcb){let e=parseInt(__ez.tf.vaodcb);!isNaN(e)&&e||(e=3500);let t=document.getElementById("ez-outstream-ez-stuck-close");t.style.display="none",setTimeout((()=>t.style.display="block"),3500)}}onlyUseVastProxy(){return window.__ezOutstream?.OnlyUseVastProxy||window.__ez?.tf?.vaosg}dispose(){R("Destroy called"),window.ezOutstreamLoaded=!1,this.player?.dispose(),this.getOutstreamWrapper()?.remove(),window.__ezOutstream=void 0}isWideTopTest(){if("undefined"!==typeof _ezaq&&2===_ezaq?.form_factor_id){if("undefined"!==typeof __ez&&"true"===__ez?.tf?.vatopf)return!0;if("undefined"!==typeof __ezOutstream&&!0===__ezOutstream?.vatc?.itopf)return!0}return!1}checkWideTopTitle(){if(!this.isWideTopTest())return;const e=document.querySelector(".ez-video-left-section .ez-video-ez-stuck-title");if(!e)return;const t=document.getElementById("ez-o-ez-video-ez-stuck-title"),i=document.getElementById("ez-video-ez-stuck-bar-ez-o"),o=document.getElementById("ez-o-section-spacer"),n=document.getElementById("ez-o-ez-wide-top-wrapper");if(n&&(""!==e.textContent.trim()?(n.style.justifyContent="space-between",i&&i.style.removeProperty("flex"),o&&(o.style.setProperty("display","none","important"),o.style.removeProperty("width"))):(n.style.justifyContent="center",i&&i.style.setProperty("flex","unset","important"),o&&(o.style.setProperty("display","flex","important"),o.style.setProperty("width","53px","important")))),!t)return;if(e.textContent.trim()!==t.textContent.trim()){for(;t.firstChild;)t.removeChild(t.firstChild);e.childNodes.forEach((e=>{const i=e.cloneNode(!0);i.id&&(i.id="ez-o-"+i.id),t.appendChild(i)}))}}}let W;async function q(e){W=new N(e),await W.init()}function U(){W?.dispose(),W=void 0}function $(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return W?.lowerPlayer(e)}function D(){return W?.raisePlayer()}async function G(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];await(W?.callNextAdBreak(e,t))}ezOutstreamPlayer=t})();} catch(err) {var hREED = function(er) {return function() {reportEzError(er, "/beardeddragon/turtle.js")}}; typeof reportEzError==="function"?hREED(err):window.addEventListener('reportEzErrorDefined',hREED(err), {once: true}); console.error(err);}